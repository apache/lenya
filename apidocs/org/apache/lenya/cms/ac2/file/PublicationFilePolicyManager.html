<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Fri Oct 17 12:32:16 CEST 2003 -->
<TITLE>
PublicationFilePolicyManager (Apache Lenya API - Version 1.2-dev)
</TITLE>
<META NAME="keywords" CONTENT="org.apache.lenya.cms.ac2.file.PublicationFilePolicyManager,PublicationFilePolicyManager class">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../../../javadoc.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="PublicationFilePolicyManager (Apache Lenya API - Version 1.2-dev)";
}
</SCRIPT>
<BODY BGCOLOR="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PublicationFilePolicyManager.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.apache.lenya.cms.ac2.file</FONT>
<BR>
Class PublicationFilePolicyManager</H2>
<PRE>
java.lang.Object
  |
  +--org.apache.avalon.framework.logger.AbstractLogEnabled
        |
        +--<A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html">org.apache.lenya.cms.ac2.file.FilePolicyManager</A>
              |
              +--<B>org.apache.lenya.cms.ac2.file.PublicationFilePolicyManager</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>org.apache.avalon.framework.component.Component, org.apache.avalon.framework.activity.Disposable, <A HREF="../../../../../../org/apache/lenya/cms/ac2/InheritingPolicyManager.html">InheritingPolicyManager</A>, org.apache.avalon.framework.logger.LogEnabled, org.apache.avalon.framework.parameters.Parameterizable, <A HREF="../../../../../../org/apache/lenya/cms/ac2/PolicyManager.html">PolicyManager</A>, org.apache.avalon.framework.service.Serviceable</DD>
</DL>
<HR>
<DL>
<DT>public class <B>PublicationFilePolicyManager</B><DT>extends <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html">FilePolicyManager</A></DL>

<P>
A FilePolicyManager that resolves policies relative to the {publication}/config/ac/policies directory.<br/>
 The "directory" parameter must point to the context:<br/>
 &lt;parameter name="directory" value="context:///" /&gt;
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>andreas</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/PublicationFilePolicyManager.html#POLICIES_PATH">POLICIES_PATH</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected static&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/PublicationFilePolicyManager.html#POLICIES_URI">POLICIES_URI</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.lenya.cms.ac2.file.FilePolicyManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from class org.apache.lenya.cms.ac2.file.<A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html">FilePolicyManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#DIRECTORY_PARAMETER">DIRECTORY_PARAMETER</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#SUBTREE_FILENAME">SUBTREE_FILENAME</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#URL_FILENAME">URL_FILENAME</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="fields_inherited_from_class_org.apache.lenya.cms.ac2.PolicyManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Fields inherited from interface org.apache.lenya.cms.ac2.<A HREF="../../../../../../org/apache/lenya/cms/ac2/PolicyManager.html">PolicyManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/PolicyManager.html#ROLE">ROLE</A></CODE></TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/PublicationFilePolicyManager.html#PublicationFilePolicyManager()">PublicationFilePolicyManager</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../../../org/apache/lenya/cms/ac2/DefaultPolicy.html">DefaultPolicy</A>[]</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/PublicationFilePolicyManager.html#getPolicies(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)">getPolicies</A></B>(<A HREF="../../../../../../org/apache/lenya/cms/ac2/AccreditableManager.html">AccreditableManager</A>&nbsp;controller,
            java.lang.String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the existing policies for all URL steps, beginning with the root policy.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/PublicationFilePolicyManager.html#getPolicyPath(java.lang.String, org.apache.lenya.cms.publication.Publication)">getPolicyPath</A></B>(java.lang.String&nbsp;webappUrl,
              <A HREF="../../../../../../org/apache/lenya/cms/publication/Publication.html">Publication</A>&nbsp;publication)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the policy path, containing the steps to look for policy files
 separated by slashes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/PublicationFilePolicyManager.html#getPolicyURI(java.lang.String, java.lang.String)">getPolicyURI</A></B>(java.lang.String&nbsp;url,
             java.lang.String&nbsp;policyFilename)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the policy file for a URL and a policy filename.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../../../org/apache/lenya/cms/publication/Publication.html">Publication</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/PublicationFilePolicyManager.html#getPublication(java.lang.String)">getPublication</A></B>(java.lang.String&nbsp;url)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the publication for a certain URL.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.lenya.cms.ac2.file.FilePolicyManager"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.apache.lenya.cms.ac2.file.<A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html">FilePolicyManager</A></B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#buildPolicy(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String, java.lang.String)">buildPolicy</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#buildSubtreePolicy(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)">buildSubtreePolicy</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#buildURLPolicy(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)">buildURLPolicy</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#dispose()">dispose</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getCache()">getCache</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getInputStream(java.lang.String)">getInputStream</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getManager()">getManager</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getPoliciesDirectory()">getPoliciesDirectory</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getPolicy(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)">getPolicy</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getPolicyFile(java.lang.String, java.lang.String)">getPolicyFile</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getResolver()">getResolver</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getSourceValidity(java.lang.String)">getSourceValidity</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#parameterize(org.apache.avalon.framework.parameters.Parameters)">parameterize</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#savePolicy(java.lang.String, org.apache.lenya.cms.ac2.DefaultPolicy, java.lang.String)">savePolicy</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#saveSubtreePolicy(java.lang.String, org.apache.lenya.cms.ac2.DefaultPolicy)">saveSubtreePolicy</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#saveURLPolicy(java.lang.String, org.apache.lenya.cms.ac2.DefaultPolicy)">saveURLPolicy</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#service(org.apache.avalon.framework.service.ServiceManager)">service</A>, <A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#setPoliciesDirectory(java.io.File)">setPoliciesDirectory</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_org.apache.avalon.framework.logger.AbstractLogEnabled"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class org.apache.avalon.framework.logger.AbstractLogEnabled</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>enableLogging, getLogger, setupLogger, setupLogger, setupLogger</CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="POLICIES_URI"><!-- --></A><H3>
POLICIES_URI</H3>
<PRE>
protected static final java.lang.String <B>POLICIES_URI</B></PRE>
<DL>
<DL>
<DT><B>See Also:</B><DD><A HREF="../../../../../../constant-values.html#org.apache.lenya.cms.ac2.file.PublicationFilePolicyManager.POLICIES_URI">Constant Field Values</A></DL>
</DL>
<HR>

<A NAME="POLICIES_PATH"><!-- --></A><H3>
POLICIES_PATH</H3>
<PRE>
protected static final java.lang.String <B>POLICIES_PATH</B></PRE>
<DL>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="PublicationFilePolicyManager()"><!-- --></A><H3>
PublicationFilePolicyManager</H3>
<PRE>
public <B>PublicationFilePolicyManager</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="getPolicyURI(java.lang.String, java.lang.String)"><!-- --></A><H3>
getPolicyURI</H3>
<PRE>
protected java.lang.String <B>getPolicyURI</B>(java.lang.String&nbsp;url,
                                        java.lang.String&nbsp;policyFilename)
                                 throws <A HREF="../../../../../../org/apache/lenya/cms/ac/AccessControlException.html">AccessControlException</A></PRE>
<DL>
<DD><B>Description copied from class: <CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html">FilePolicyManager</A></CODE></B></DD>
<DD>Returns the policy file for a URL and a policy filename.
<P>
<DD><DL>
<DT><B>Overrides:</B><DD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getPolicyURI(java.lang.String, java.lang.String)">getPolicyURI</A></CODE> in class <CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html">FilePolicyManager</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - The url to get the file for.<DD><CODE>policyFilename</CODE> - The name of the policy file.
<DT><B>Returns:</B><DD>A file object.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac/AccessControlException.html">AccessControlException</A></CODE> - if an error occurs<DT><B>See Also:</B><DD><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getPolicyURI(java.lang.String, java.lang.String)"><CODE>FilePolicyManager.getPolicyURI(java.lang.String, java.lang.String)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getPolicies(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)"><!-- --></A><H3>
getPolicies</H3>
<PRE>
public <A HREF="../../../../../../org/apache/lenya/cms/ac2/DefaultPolicy.html">DefaultPolicy</A>[] <B>getPolicies</B>(<A HREF="../../../../../../org/apache/lenya/cms/ac2/AccreditableManager.html">AccreditableManager</A>&nbsp;controller,
                                   java.lang.String&nbsp;url)
                            throws <A HREF="../../../../../../org/apache/lenya/cms/ac/AccessControlException.html">AccessControlException</A></PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/InheritingPolicyManager.html">InheritingPolicyManager</A></CODE></B></DD>
<DD>Returns the existing policies for all URL steps, beginning with the root policy.
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/InheritingPolicyManager.html#getPolicies(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)">getPolicies</A></CODE> in interface <CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/InheritingPolicyManager.html">InheritingPolicyManager</A></CODE><DT><B>Overrides:</B><DD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html#getPolicies(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)">getPolicies</A></CODE> in class <CODE><A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html">FilePolicyManager</A></CODE></DL>
</DD>
<DD><DL>

<DD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac/AccessControlException.html">AccessControlException</A></CODE><DT><B>See Also:</B><DD><A HREF="../../../../../../org/apache/lenya/cms/ac2/InheritingPolicyManager.html#getPolicies(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)"><CODE>InheritingPolicyManager.getPolicies(org.apache.lenya.cms.ac2.AccreditableManager, java.lang.String)</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getPublication(java.lang.String)"><!-- --></A><H3>
getPublication</H3>
<PRE>
protected <A HREF="../../../../../../org/apache/lenya/cms/publication/Publication.html">Publication</A> <B>getPublication</B>(java.lang.String&nbsp;url)
                              throws <A HREF="../../../../../../org/apache/lenya/cms/ac/AccessControlException.html">AccessControlException</A></PRE>
<DL>
<DD>Returns the publication for a certain URL.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>url</CODE> - The url.
<DT><B>Returns:</B><DD>A publication.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac/AccessControlException.html">AccessControlException</A></CODE> - when the publication could not be created.</DL>
</DD>
</DL>
<HR>

<A NAME="getPolicyPath(java.lang.String, org.apache.lenya.cms.publication.Publication)"><!-- --></A><H3>
getPolicyPath</H3>
<PRE>
protected java.lang.String <B>getPolicyPath</B>(java.lang.String&nbsp;webappUrl,
                                         <A HREF="../../../../../../org/apache/lenya/cms/publication/Publication.html">Publication</A>&nbsp;publication)
                                  throws <A HREF="../../../../../../org/apache/lenya/cms/ac/AccessControlException.html">AccessControlException</A></PRE>
<DL>
<DD>Returns the policy path, containing the steps to look for policy files
 separated by slashes. If the webapp URL corresponds to an existing document,
 the document ID is used. Otherwise, the requested URL inside the publication
 is returned.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>webappUrl</CODE> - The webapp URL to obtain the policy for.<DD><CODE>publication</CODE> - The publication.
<DT><B>Returns:</B><DD>A String.
<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../../../org/apache/lenya/cms/ac/AccessControlException.html">AccessControlException</A></CODE> - when something went wrong.</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../../../org/apache/lenya/cms/ac2/file/FilePolicyManager.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;NEXT CLASS</FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="PublicationFilePolicyManager.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
Copyright © 1999-2003 Wyona. All Rights Reserved.
</BODY>
</HTML>
