  Installation of the Source Version

    * Standalone Installation (using the built-in Jetty)
    * Installation with Apache Tomcat


    Standalone Installation (using the built-in Jetty)

   1. *Get the Java SDK* (see Prerequisites <prerequisites.html>)

   2. *Get Apache Cocoon* (see Prerequisites <prerequisites.html>)

   3. *Get Apache Lenya* (see Download Lenya <download.html>)

   4. Extract the downloaded Lenya archive to the lenya directory as
      described below. If you use Subversion, create your Lenya checkout
      inside the src directory as described below. It is recommended to
      use the following directory structure for an easier build experience.

		your_home (or c:\ on Windows, NOT My Documents)
			/src
				/lenya                  $LENYA_HOME
				/cocoon-2.1             $COCOON_HOME
					/build
						/webapp         $COCOON_WEBAPP

   5. *Copy the Cocoon build properties supplied by Lenya*

      Copy the files

          * local.build.properties
          * local.blocks.properties

      from $LENYA_HOME/src/cocoon to $COCOON_HOME.

   6. *Compile Cocoon*

      *MS Windows*

		$COCOON_HOME > build.bat

      *Unix*

		$COCOON_HOME > ./build.sh -Dinclude.webapp.libs=yes webapp

   7. *Configure Lenya*

      If your Cocoon source tree is set up as described above, you can
      skip this step. If your Cocoon source tree is not at ../cocoon-2.1
      relative to Lenya, you need to edit your build properties. To do
      this, copy $LENYA_HOME/build.properties to
      $LENYA_HOME/local.build.properties.

      Edit local.build.properties. For the described configuration the
      following settings will work (*MS Windows:* Don't use backslashes
      "\" for directory separation.)

          * cocoon.src.dir=$COCOON_HOME
          * tomcat.home.dir=$TOMCAT_HOME

   8. *Build Lenya*

      Execute build.bat or build.sh in your Lenya source directory,
      depending on your platform.

   9. *Start Lenya*

      Execute lenya.bat or lenya.sh servlet in your Lenya source
      directory, depending on your platform.

  10. *Test the installation*

      http://localhost:8888


    Installation with Apache Tomcat

	Installing Lenya with Tomcat is mostly the same procedure. Follow Steps
	1-6, then do the steps below.

   1. *get Apache Tomcat* (see Prerequisites <prerequisites.html>)

   2. *Install Apache Tomcat*

      See Tomcat 5.0 Setup
      <http://jakarta.apache.org/tomcat/tomcat-5.0-doc/setup.html>

      *MS Windows:*
      Basically this is setting the JAVA_HOME environment variable and
      running the Tomcat installer. Decide to run Tomcat as a Windows
      NT/2000/XP-Service.

      Warning
      Make sure you do not install at a location with spaces in the path

   3. *Configure Lenya*

      To install Lenya with Tomcat, you need to edit your build
      properties. To do this, copy $LENYA_HOME/build.properties to
      $LENYA_HOME/local.build.properties.

      Edit local.build.properties. For the described configuration the
      following settings will work (*MS Windows:* Don't use backslashes
      "\" for directory separation.) It is important that
      tomcat.home.dir is an absolute path. Replace $TOMCAT_HOME by your
      Tomcat installation directory. If your Cocoon source directory is
      not at ../cocoon-2.1 relative to Lenya, then change the
      cocoon.webapp.dir and cocoon.src.dir properties.

          * cocoon.src.dir=$COCOON_HOME
          * tomcat.home.dir=$TOMCAT_HOME

   4. *Build Lenya*

      Execute ant in your Lenya source directory.

   5. *Restart Tomcat*

      Restart Tomcat to load the Lenya webapp.

   6. *Test the installation*

      http://localhost:8080/lenya
