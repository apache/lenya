<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN""http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<!--+
    |start generator meta
    +-->
<meta content="Apache Forrest" name="Generator">
<meta content="SVN-Head (revision 20645)" name="Forrest-version">
<meta content="Lenya-site" name="Forrest-skin-name">
<!--+
    |end generator meta
    +-->
<title>Workflow Configuration</title>
<link type="text/css" href="../../../skin/page.css" rel="stylesheet">
</head>
<body text="#000000" bgcolor="#FFFFFF">
<!--+
    |start Banner
    +-->
<table summary="header with logos" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<!--+
    start Group Logo
    +-->
<td valign="bottom" bgcolor="#FFFFFF">
<div class="headerlogo">
<a href="http://cocoon.apache.org"><img class="logoImage" alt="Apache Cocoon" src="../../../images/cocoon-project-logo-big.png"></a>
</div>
<span class="textheader">Apache Cocoon</span>
<!--+
    |end Group Logo
    +-->
<!--+
    start Tabs
    +-->
<table>
<tr>
<td class="tabstrip" colspan="4"></td>
</tr>
</table>
<!--+
    |end Tabs
    +-->
<!--+
    start Tabs-div
    +-->
<div class="tab">
<table summary="tab bar" border="0" cellpadding="0" cellspacing="0">
<tr>
<!--+
    |start tab-separator
    +-->
<td width="10" valign="bottom">
<div class="tab-separator">
<img alt="" width="10" src="../../../skin/images/spacer.gif"></div>
</td>
<!--+
    |end tab-separator
    +-->
<!--+
    |start not-selected
    +--><td valign="bottom" class="tab">
<div class="tab-separator">
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td style="background-image: url(../../../skin/images/tab-left.png)" valign="top" width="5" height="5"><img alt="" src="../../../skin/images/tab-corner-left.png"></td><td rowspan="2" valign="bottom" class="tab">
<div class="tab-not-selected-shadow">
<div class="tab-not-selected">
<a class="base-not-selected" href="../../../project/index.html">Project Information</a>
</div>
</div>
</td><td style="background-image: url(../../../skin/images/tab-right.png)" valign="top" width="5" height="5"><img alt="" src="../../../skin/images/tab-corner-right.png"></td>
</tr>
<tr>
<td style="background-image: url(../../../skin/images/tab-left.png)" valign="bottom">
<div class="tab-not-selected-shadow-left">
<img alt="" width="4" src="../../../skin/images/spacer.gif"></div>
</td><td style="background-image: url(../../../skin/images/tab-right.png)" valign="bottom">
<div class="tab-not-selected-shadow-right">
<img alt="" width="4" src="../../../skin/images/spacer.gif"></div>
</td>
</tr>
</table>
</div>
</td>
<!--+
    |end not-selected->@dir = $longest-dir or @href = $longest-dir or $path='index' and @dir = /tabs/tab[1]/@dir
    +-->
<!--+
    |start not-selected
    +--><td valign="bottom" class="tab">
<div class="tab-separator">
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td style="background-image: url(../../../skin/images/tab-left.png)" valign="top" width="5" height="5"><img alt="" src="../../../skin/images/tab-corner-left.png"></td><td rowspan="2" valign="bottom" class="tab">
<div class="tab-not-selected-shadow">
<div class="tab-not-selected">
<a class="base-not-selected" href="../../../installation/index.html">Installation</a>
</div>
</div>
</td><td style="background-image: url(../../../skin/images/tab-right.png)" valign="top" width="5" height="5"><img alt="" src="../../../skin/images/tab-corner-right.png"></td>
</tr>
<tr>
<td style="background-image: url(../../../skin/images/tab-left.png)" valign="bottom">
<div class="tab-not-selected-shadow-left">
<img alt="" width="4" src="../../../skin/images/spacer.gif"></div>
</td><td style="background-image: url(../../../skin/images/tab-right.png)" valign="bottom">
<div class="tab-not-selected-shadow-right">
<img alt="" width="4" src="../../../skin/images/spacer.gif"></div>
</td>
</tr>
</table>
</div>
</td>
<!--+
    |end not-selected->@dir = $longest-dir or @href = $longest-dir or $path='index' and @dir = /tabs/tab[1]/@dir
    +-->
<!--+
    |start selected
    +--><td style="background-image: url(../../../skin/images/tab-left-selected.png)" valign="top" width="5"><img alt="" src="../../../skin/images/tab-corner-left-selected.png"></td><td valign="bottom" class="tab">
<div class="tab-selected">
<a class="base-selected" href="../../../docs/index.html">Documentation</a>
</div>
</td><td style="background-image: url(../../../skin/images/tab-right-selected.png)" valign="top" width="5"><img alt="" src="../../../skin/images/tab-corner-right-selected.png"></td>
<!--+
    |end selected
    +-->
<!--+
    |start not-selected
    +--><td valign="bottom" class="tab">
<div class="tab-separator">
<table cellspacing="0" cellpadding="0" border="0">
<tr>
<td style="background-image: url(../../../skin/images/tab-left.png)" valign="top" width="5" height="5"><img alt="" src="../../../skin/images/tab-corner-left.png"></td><td rowspan="2" valign="bottom" class="tab">
<div class="tab-not-selected-shadow">
<div class="tab-not-selected">
<a class="base-not-selected" href="../../../community/index.html">Community</a>
</div>
</div>
</td><td style="background-image: url(../../../skin/images/tab-right.png)" valign="top" width="5" height="5"><img alt="" src="../../../skin/images/tab-corner-right.png"></td>
</tr>
<tr>
<td style="background-image: url(../../../skin/images/tab-left.png)" valign="bottom">
<div class="tab-not-selected-shadow-left">
<img alt="" width="4" src="../../../skin/images/spacer.gif"></div>
</td><td style="background-image: url(../../../skin/images/tab-right.png)" valign="bottom">
<div class="tab-not-selected-shadow-right">
<img alt="" width="4" src="../../../skin/images/spacer.gif"></div>
</td>
</tr>
</table>
</div>
</td>
<!--+
    |end not-selected->@dir = $longest-dir or @href = $longest-dir or $path='index' and @dir = /tabs/tab[1]/@dir
    +-->
</tr>
</table>
</div>
<!--+
    |end Tabs-div
    +-->
</td>
<!--================= start Project Logo ==================--><td width="100%" valign="bottom" align="right" bgcolor="#FFFFFF">
<div style="padding: 10px" class="headerlogo">
<a href="http://cocoon.apache.org/lenya"><img class="logoImage" alt="Lenya" src="../../../images/apache-lenya-light.png"></a>
</div>
<div class="tab-separator"></div>
</td>
<!--================= end Project Logo ==================-->
</tr>
</table>
<!--================= end Banner ==================-->
<div class="tab-bar">
<img alt="" height="5" src="../../../skin/images/spacer.gif"></div>
<!--================= start Menu, NavBar, Content ==================-->
<table summary="page content" bgcolor="#ffffff" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top">
<table summary="menu" border="0" cellspacing="0" cellpadding="0">
<tr>
<!--================= start left top NavBar ==================-->
<!--================= end left top NavBar ==================-->
<td valign="top">
<div class="tab-subbar">
<img width="10" height="5" alt="" src="../../../skin/images/spacer.gif"></div>
</td><td valign="top">
<!--================= start Menu items ==================-->
<div class="menu">
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../project/roadmap.html">Roadmap</a>
</div>
<div class="menuitem">
<a href="../../../project/../community/mailing-lists.html">Mailing Lists</a>
</div>
<div class="menuitem">
<a href="../../../project/acknowledgements.html">Credits</a>
</div>
<div class="menuitem">
<a href="../../../project/license.html">License</a>
</div>
<div class="menuitem">
<a href="../../../project/../community/live-sites.html">Live Sites</a>
</div>
<div class="menuitem">
<a href="../../../project/related-projects.html">Related Projects</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../installation/index.html">Overview</a>
</div>
<div class="menuitem">
<a href="../../../installation/prerequisites.html">Prerequisites</a>
</div>
<div class="menuitem">
<a href="../../../installation/download.html">Download</a>
</div>
<div class="menuitem">
<a href="../../../installation/cvs.html">CVS Access</a>
</div>
<div class="menuitem">
<a href="../../../installation/source_version.html">Installation Instructions</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/resource-types/">Resource&nbsp;Types</a>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/terms.html">Basic Terms</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/accesscontrollers.html">Access&nbsp;Controllers</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/accesscontrollerresolvers.html">Access Controller Resolvers</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/authenticators.html">Authenticators</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/authorizers.html">Authorizers</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/policymanagers.html">Policies and Policy&nbsp;Managers</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/accreditablemanagers.html">Accreditable&nbsp;Managers</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/ssl.html">SSL Encryption</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/accesscontrol/faq.html">FAQ</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/deployment/mod_proxy.html">mod_proxy</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/editors/htmlform.html">HTML Form Editor</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/editors/1form.html">HTML One Form Editor</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/editors/bxeng.html">Bitflux Editor</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/editors/kupu.html">Kupu</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/editors/xopus.html">Xopus</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/layout/navigation.html">Navigation</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/layout/xhtml-templating.html">XHTML templating</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/layout/static-resources.html">Serving static resources</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/layout/lenya-menubar.html">Lenya Menubar</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/publication/pageenvelopemodule.html">PageEnvelopeModule</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/publication/siteTree.html">Site tree</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/revisioncontrol/revisioncontroller.html">Revision Controller</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/revisioncontrol/rcml.html">RCML</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/revisioncontrol/checkin.html">Check In</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/revisioncontrol/checkout.html">Check Out</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/revisioncontrol/version.html">Revisions</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/revisioncontrol/rollback.html">Rollback</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/repository/webdav.html">WebDAV Servers</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/search/lucene.html">Searching with Lucene</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/uri-handling/URIParametrizer.html">URI Parametrizer</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/uri-handling/standardURI.html">URI Scheme</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/uri-handling/usecases.html">Usecases</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/asset-management/management.html">Asset Management</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/link-management/link-management.html">Link Management</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/metadata/metadata.html">Meta Data Handling</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/multilingual/multilingual.html">Multilingual Document Handling</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/tasks/concept.html">The Task Concept</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/tasks/defining.html">Defining Tasks</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/tasks/taskaction.html">The TaskAction</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/tasks/scheduling.html">Scheduling a Task</a>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/tasks/anttask.html">AntTask</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/tasks/publisher.html">DefaultFilePublisher</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/tasks/exporter.html">StaticHTMLExporter</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/tasks/mailtask.html">MailTask</a>
</div>
</div>
<div class="menuitem">
<a href="../../../docs/components/tasks/development.html">Developing Tasks</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/workflow/terms.html">Terms</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/workflow/state-machine.html">The State Machine</a>
</div>
<div class="menupage">
<div class="menupagetitle">Configuration</div>
</div>
<div class="menuitem">
<a href="../../../docs/components/workflow/implementation.html">Implementation</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/archive.html">Archive</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/copy.html">Copy</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/deactivate.html">Deactivate</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/delete.html">Delete</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/deletetrash.html">Delete the trash</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/move.html">Move</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/moveupdown.html">Move Up/Down</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/rename.html">Rename</a>
</div>
<div class="menuitem">
<a href="../../../docs/components/sitemanagement/restore.html">Restore</a>
</div>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/specs/namespaces.html">Namespaces</a>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/misc/coding-guidelines.html">Coding Guidelines</a>
</div>
<div class="menuitem">
<a href="../../../docs/misc/unittests.html">Unit Tests</a>
</div>
<div class="menuitem">
<a href="../../../docs/misc/xinclude-processor.html">XInclude Processor</a>
</div>
</div>
<div class="menuitem">
<a href="../../../docs/../apidocs/index.html">API (Javadoc)</a>
</div>
</div>
</div>
<div class="menutitle"></div>
<div class="menuitemgroup">
<div class="menuitem">
<a href="http://cvs.apache.org/viewcvs.cgi/cocoon-lenya/">CVS Web</a>
</div>
<div class="menuitem">
<a href="http://nagoya.apache.org/bugzilla/buglist.cgi?bug_status=NEW&bug_status=ASSIGNED&bug_status=REOPENED&email1=&emailtype1=substring&emailassigned_to1=1&email2=&emailtype2=substring&emailreporter2=1&bugidtype=include&bug_id=&changedin=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&product=Lenya&short_desc=&short_desc_type=allwordssubstr&long_desc=&long_desc_type=allwordssubstr&bug_file_loc=&bug_file_loc_type=allwordssubstr&keywords=&keywords_type=anywords&field0-0-0=noop&type0-0-0=noop&value0-0-0=&cmdtype=doit&order=%27Importance%27">Bug Tracker</a>
</div>
<div class="menuitem">
<a href="../../../community/mailing-lists.html">Mailing Lists</a>
</div>
<div class="menuitem">
<a href="../../../community/irc.html">IRC</a>
</div>
<div class="menuitem">
<a href="../../../community/meetings.html">Meetings and Sprints</a>
</div>
<div class="menuitem">
<a href="../../../community/live-sites.html">Live Sites</a>
</div>
<div class="menuitem">
<a href="../../../community/website-update.html">Website Update</a>
</div>
</div>
</div>
<!--================= end Menu items ==================-->
</td><td valign="top">
<div class="tab-subbar">&nbsp;&nbsp;</div>
</td>
</tr>
<tr>
<td></td><td height="5"><img alt="" width="150" height="1" src="../../../skin/images/spacer.gif"></td><td></td>
</tr>
</table>
</td><td valign="top" width="100%">
<table summary="content" width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td valign="top" colspan="3">
<div class="tab-subbar">&nbsp;&nbsp;</div>
</td>
</tr>
<!--================= start Content==================-->
<tr>
<td align="left" width="10"><img width="10" height="1" alt="" src="../../../skin/images/spacer.gif"></td><td align="left" width="100%">
<div class="content">
<table class="title">
<tr>
<td valign="middle">
<h1>Workflow Configuration</h1>
</td>
<div id="skinconf-pdflink"></div>
</tr>
</table>
<div id="skinconf-toc-page"></div>


<a name="N1001B"></a><a name="Workflow+Schemas"></a>
<div class="skinconf-heading-1">
<h1>Workflow Schemas</h1>
</div>
<div class="section">

<p>The workflow schema definition files of a publication are located at</p>

<pre class="code">
{publication}/config/workflow/
</pre>


<p>
  A workflow schema definition looks as follows:
</p>


<pre class="code">
&lt;workflow xmlns="http://apache.org/cocoon/lenya/workflow/1.0"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://apache.org/cocoon/lenya/workflow/1.0
        ../../../resources/entities/workflow/workflow.xsd"&gt;

  &lt;state id="authoring" initial="true"/&gt;
  &lt;state id="live"/&gt;
  &lt;state id="trash"/&gt;
  &lt;state id="archive"/&gt;

  &lt;variable name="is_live" value="false"/&gt;
  
  &lt;transition source="authoring" destination="authoring"&gt;
    &lt;event id="edit"/&gt;
    &lt;condition class="org.apache.lenya.cms.workflow.RoleCondition"&gt;
      edit, review, organize
    &lt;/condition&gt;
  &lt;/transition&gt;
  
  &lt;transition source="authoring" destination="authoring"&gt;
    &lt;event id="deactivate"/&gt;
    &lt;condition class="org.apache.lenya.workflow.impl.BooleanVariableCondition"&gt;
      is_live = true
    &lt;/condition&gt;
    &lt;condition class="org.apache.lenya.cms.workflow.RoleCondition"&gt;
      review, organize
    &lt;/condition&gt;
    &lt;assign variable="is_live" value="false"/&gt;
  &lt;/transition&gt;
  
  ...
  
&lt;/workflow&gt;  
</pre>


<p>The workflow namespace URI is</p>

<pre class="code">http://apache.org/cocoon/lenya/workflow/1.0</pre>

</div>


<a name="N10039"></a><a name="States"></a>
<div class="skinconf-heading-1">
<h1>States</h1>
</div>
<div class="section">

<p>
  All states that are used in the workflow schema have to be declared
  using <span class="codefrag">&lt;state&gt;</span> elements. The initial state is
  marked with the <span class="codefrag">initial="true"</span> attribute.
</p>

</div>


<a name="N10048"></a><a name="Variables"></a>
<div class="skinconf-heading-1">
<h1>Variables</h1>
</div>
<div class="section">

<p>
  All used variables have to be declared using <span class="codefrag">&lt;variable&gt;</span>
  elements. The initial value of the variable is assigned using the
  <span class="codefrag">value</span> attribute.
</p>

</div>


<a name="N10057"></a><a name="Transitions"></a>
<div class="skinconf-heading-1">
<h1>Transitions</h1>
</div>
<div class="section">

<p>
  A transition is declared using the <span class="codefrag">&lt;transition&gt;</span> element.
  The required attributes <span class="codefrag">source</span> and <span class="codefrag">destination</span>
  denote the states that are connected by this transition.
</p>

<p>
  The transition element must contain one <span class="codefrag">&lt;event&gt;</span> element
  with an <span class="codefrag">id</span> attribute. Furthermore, it can contain an
  arbitrary number of <span class="codefrag">&lt;condition&gt;</span> and <span class="codefrag">&lt;assign&gt;</span>
  elements.
</p>

<p>
  A transition element can have a <span class="codefrag">synchronized="true"</span> attribute.
  In this case, if the transition is triggered using a
  <em>SynchronizedWorkflowInstance</em>, it is invoked on all instances.
</p>

</div>


<a name="N10081"></a><a name="Variable+Assignments"></a>
<div class="skinconf-heading-1">
<h1>Variable Assignments</h1>
</div>
<div class="section">

<p>A variable assignment has the form</p>

<pre class="code">&lt;assign variable="..." value="..."/&gt;</pre>

<p>
  The variable must have been declared in this workflow schema.
  Because only boolean variables are supported, <span class="codefrag">value</span> must
  be either <span class="codefrag">true</span> or <span class="codefrag">false</span>.
</p>

</div>


<a name="N1009B"></a><a name="Conditions"></a>
<div class="skinconf-heading-1">
<h1>Conditions</h1>
</div>
<div class="section">

<p>A condition has the form</p>

<pre class="code">&lt;condition class="..."&gt;...&lt;/condition&gt;</pre>


<p>The <span class="codefrag">class</span> attribute contains the complete name
(including the package) of the condition class. You can use the
condition classes that ship with Lenya (see below) or implement your
own conditions. All condition classes must implement the
<span class="codefrag">org.apache.lenya.workflow.Condition</span> interface.
The text inside the element is the expression that should
be evaluated. It is passed as an argument to the <span class="codefrag">setExpression()</span>
method.
</p>


<a name="N100B4"></a><a name="BooleanVariableCondition"></a>
<div class="skinconf-heading-2">
<h1>BooleanVariableCondition</h1>
</div>
<p>The <em>org.apache.lenya.workflow.impl.BooleanVariableCondition</em> requires
an expression of the form</p>
<pre class="code">{variable-name} = {value}</pre>
<p>
<span class="codefrag">{variable-name}</span> is the name of a variable that
was declared in the workflow schema. <span class="codefrag">{value}</span> is either
<span class="codefrag">true</span> or <span class="codefrag">false</span>.</p>


<a name="N100D3"></a><a name="RoleCondition"></a>
<div class="skinconf-heading-2">
<h1>RoleCondition</h1>
</div>
<p>The <em>org.apache.lenya.cms.workflow.RoleCondition</em> requires a
comma-separated list of role IDs:
</p>
<pre class="code">{role-id-1}, {role-id-2}, ...</pre>
<p>
  The condition is complied when the current identity has one
  of these roles on the requested URL.
</p>


</div>


<a name="N100E8"></a><a name="Assigning+Workflow+Schemas+to+Document+Types"></a>
<div class="skinconf-heading-1">
<h1>Assigning Workflow Schemas to Document Types</h1>
</div>
<div class="section">

<p>A workflow schema can be assigned to a document type in</p>

<pre class="code">
{publication}/config/doctypes/doctypes.xconf
</pre>

<pre class="code">&lt;doctypes&gt;
  &lt;doc type="content-page"&gt;
    ...
    &lt;workflow src="workflow.xml"/&gt;
  &lt;/doc&gt;
  ...
&lt;/doctypes&gt;</pre>

</div>


<p align="right">
<font size="-2">by&nbsp;Andreas Hartmann</font>
</p>
</div>
</td><td width="10"><img width="10" height="1" alt="" src="../../../skin/images/spacer.gif"></td>
</tr>
<!--================= end Content==================-->
</table>
</td>
</tr>
<tr>
<td>
<br>
<br>
</td>
</tr>
</table>
<!--================= end Menu, NavBar, Content ==================-->
<!--================= start Footer ==================-->
<div class="footer">
<table summary="footer" cellspacing="0" cellpadding="0" width="100%" border="0">
<tr>
<td colspan="2" height="1"><img height="1" width="1" alt="" src="../../../skin/images/spacer.gif"><a href="../../../skin/images/label.gif"></a><a href="../../../skin/images/page.gif"></a><a href="../../../skin/images/chapter.gif"></a><a href="../../../skin/images/chapter_open.gif"></a><a href="../../../skin/images/current.gif"></a></td>
</tr>
<tr>
<td colspan="2" class="copyright" align="center" width="90%"><span class="footnote">Copyright &copy;
                2002-2004&nbsp;The Apache Software Foundation. All rights reserved.
                <br>
<script type="text/javascript" language="JavaScript"><!--
                  document.write(" - "+"Last Published: " + document.lastModified);
                  //  --></script></span></td><td nowrap="nowrap" align="right" class="logos"><a href="http://validator.w3.org/check/referer"><img border="0" width="88" height="31" alt="Valid HTML 4.01!" src="../../../skin/images/valid-html401.png" class="logoImage"></a><a href="http://jigsaw.w3.org/css-validator/"><img border="0" width="88" height="31" alt="Valid CSS!" src="../../../skin/images/vcss.png" class="logoImage"></a></td>
</tr>
</table>
</div>
<!--================= end Footer ==================-->
</body>
</html>
