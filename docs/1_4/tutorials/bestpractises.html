<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<META http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta content="Apache Forrest" name="Generator">
<meta name="Forrest-version" content="0.8">
<meta name="Forrest-skin-name" content="pelt">
<title>Best Practises when Developing with Lenya 1.4</title>
<link type="text/css" href="../../../skin/basic.css" rel="stylesheet">
<link media="screen" type="text/css" href="../../../skin/screen.css" rel="stylesheet">
<link media="print" type="text/css" href="../../../skin/print.css" rel="stylesheet">
<link type="text/css" href="../../../skin/profile.css" rel="stylesheet">
<script src="../../../skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="../../../skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="../../../skin/fontsize.js" language="javascript" type="text/javascript"></script>
<link rel="shortcut icon" href="../../../favicon.ico">
</head>
<body onload="init()">
<script type="text/javascript">ndeSetTextSize();</script>
<div id="top">
<!--+
    |breadtrail
    +-->
<div class="breadtrail">
<a href="http://www.apache.org/">apache</a> &gt; <a href="http://lenya.apache.org/">lenya</a><script src="../../../skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script>
</div>
<!--+
    |header
    +-->
<div class="header">
<!--+
    |start group logo
    +-->
<div class="grouplogo">
<a href=""><img class="logoImage" alt="Lenya" src="../../../images/apache-lenya-light.png" title=""></a>
</div>
<!--+
    |end group logo
    +-->
<!--+
    |start Project Logo
    +-->
<div class="projectlogo">
<a href=""></a>
</div>
<!--+
    |end Project Logo
    +-->
<!--+
    |start Search
    +-->
<div class="searchbox">
<form action="http://www.google.com/search" method="get" class="roundtopsmall">
<input value="lenya.apache.org" name="sitesearch" type="hidden"><input onFocus="getBlank (this, 'Search the site with ');" size="25" name="q" id="query" type="text" value="Search the site with ">&nbsp; 
                    <input name="Search" value="Search" type="submit">
</form>
</div>
<!--+
    |end search
    +-->
<!--+
    |start Tabs
    +-->
<ul id="tabs">
<li>
<a class="unselected" href="../../../index.html">Project</a>
</li>
<li class="current">
<a class="selected" href="../../../docs/index.html">Documentation</a>
</li>
<li>
<a class="unselected" href="../../../community/index.html">Community</a>
</li>
</ul>
<!--+
    |end Tabs
    +-->
</div>
</div>
<div id="main">
<div id="publishedStrip">
<!--+
    |start Subtabs
    +-->
<div id="level2tabs">
<a class="selected" href="../../../docs/1_4/index.html">Version 1.4</a><a class="unselected" href="../../../docs/modules/index.html">Modules</a><a class="unselected" href="../../../docs/1_2_x/index.html">Version 1.2</a>
</div>
<!--+
    |end Endtabs
    +-->
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<!--+
    |breadtrail
    +-->
<div class="breadtrail">

             &nbsp;
           </div>
<!--+
    |start Menu, mainarea
    +-->
<!--+
    |start Menu
    +-->
<div id="menu">
<div onclick="SwitchMenu('menu_selected_1.1', '../../../skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('../../../skin/images/chapter_open.gif');">Version 1.4</div>
<div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="../../../docs/1_4/index.html">Index</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/faq.html">FAQs</a>
</div>
<div onclick="SwitchMenu('menu_1.1.3', '../../../skin/')" id="menu_1.1.3Title" class="menutitle">Installation</div>
<div id="menu_1.1.3" class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/1_4/installation/index.html">Download</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/installation/subversion.html">Subversion Access</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/installation/source_version.html">Install Instructions</a>
</div>
</div>
<div onclick="SwitchMenu('menu_selected_1.1.4', '../../../skin/')" id="menu_selected_1.1.4Title" class="menutitle" style="background-image: url('../../../skin/images/chapter_open.gif');">Tutorials</div>
<div id="menu_selected_1.1.4" class="selectedmenuitemgroup" style="display: block;">
<div class="menuitem">
<a href="../../../docs/1_4/tutorials/setupide/index.html">Setting up Eclipse</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/tutorials/tests.html">Writing Tests</a>
</div>
<div class="menupage">
<div class="menupagetitle">Best Practises</div>
<div class="menupageitemgroup">
<div class="menupageitem">
<a title="Speeding Up Development" href="#Speeding+Up+Development">Speeding Up Develop...</a>
</div>
<div class="menupageitem">
<a title="Building Maintainable Applications" href="#Building+Maintainable+Applications">Building Maintainab...</a>
</div>
</div>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.5', '../../../skin/')" id="menu_1.1.5Title" class="menutitle">Concepts</div>
<div id="menu_1.1.5" class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/1_4/concepts/publication.html">Publication</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/concepts/documents.html">Working with Documents</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/concepts/urlMapping.html">URL Mapping</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/concepts/authoring_live.html">Authoring and Live mode</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/concepts/wysiwyg.html">WYSIWYG</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.6', '../../../skin/')" id="menu_1.1.6Title" class="menutitle">Technical Reference</div>
<div id="menu_1.1.6" class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/1_4/reference/lenya-sitemaps.html">Overview of Lenya Sitemaps</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/repository/index.html">Repository</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/ac.html">Access Control Specification</a>
</div>
<div onclick="SwitchMenu('menu_1.1.6.4', '../../../skin/')" id="menu_1.1.6.4Title" class="menutitle">Usecase Framework</div>
<div id="menu_1.1.6.4" class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/1_4/reference/usecase-framework/index.html">Overview</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/usecase-framework/abstractusecase.html">AbstractUsecase</a>
</div>
</div>
<div onclick="SwitchMenu('menu_1.1.6.5', '../../../skin/')" id="menu_1.1.6.5Title" class="menutitle">Publications</div>
<div id="menu_1.1.6.5" class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/1_4/reference/publication/configuration.html">Configuration</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/publication/publication-templating/index.html">Publication Templating</a>
</div>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/resource-types.html">Resource Types</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/modules/index.html">Modules</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/metadata.html">Meta data</a>
</div>
<div onclick="SwitchMenu('menu_1.1.6.9', '../../../skin/')" id="menu_1.1.6.9Title" class="menutitle">Protocols</div>
<div id="menu_1.1.6.9" class="menuitemgroup">
<div class="menuitem">
<a href="../../../docs/1_4/reference/protocols/index.html">Overview</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/protocols/lenya.html">lenya Protocol</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/protocols/lenyadoc.html">lenyadoc Protocol</a>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/protocols/site.html">site Protocol</a>
</div>
</div>
<div class="menuitem">
<a href="../../../docs/1_4/reference/link-management.html">Link Management</a>
</div>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/index.html">Core API</a>
</div>
<div onclick="SwitchMenu('menu_1.1.8', '../../../skin/')" id="menu_1.1.8Title" class="menutitle">Module APIs</div>
<div id="menu_1.1.8" class="menuitemgroup">
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/ac-impl/index.html">ac-impl</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/administration/index.html">administration</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/cache/index.html">cache</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/cforms/index.html">cforms</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/contacform/index.html">contactform</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/defaultusecases/index.html">defaultusecases</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/editors/index.html">editors</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/export/index.html">export</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/fckeditor/index.html">fckeditor</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/jackrabbit/index.html">jackrabbit</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/janitor/index.html">janitor</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/jcr/index.html">jcr</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/kupu/index.html">kupu</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/ldap/index.html">ldap</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/lenyadoc/index.html">lenyadoc</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/linkcheck/index.html">linkcheck</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/linking/index.html">linking</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/lucene/index.html">lucene</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/notification/index.html">notification</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/observation-impl/index.html">observation-impl</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/opendocument/index.html">opendocument</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/properties/index.html">properties</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/repository/index.html">repository</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/resource/index.html">resource</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/sitemanagement/index.html">sitemanagement</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/sitetree/index.html">sitetree</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/sourcerepository/index.html">sourcerepository</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/templating-impl/index.html">templating-impl</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/tinymce/index.html">tinymce</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/usecase/index.html">usecase</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/usecase-impl/index.html">usecase-impl</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/usecasedocument/index.html">usecasedocument</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/webdav/index.html">webdav</a>
</div>
<div class="menuitem">
<a href="../../../apidocs/1.4/modules/workflow-impl/index.html">workflow-impl</a>
</div>
</div>
</div>
<div id="credit"></div>
<div id="roundbottom">
<img style="display: none" class="corner" height="15" width="15" alt="" src="../../../skin/images/rc-b-l-15-1body-2menu-3menu.png"></div>
<!--+
  |alternative credits
  +-->
<div id="credit2">
<a href="http://apachecon.com/2007/EU/"><img border="0" title="ApacheCon Europe 2007" alt="ApacheCon Europe 2007 - logo" src="http://apache.org/ads/ApacheCon/2007-europe-125x125.png" style="width: 125px;height: 125px;"></a><a href="http://people.apache.org/calendar.html#200711"><img border="0" title="ApacheCon US 2007" alt="ApacheCon US 2007 - logo" src="http://apache.org/ads/ApacheCon/2007-usa-125x125.png" style="width: 125px;height: 125px;"></a>
</div>
</div>
<!--+
    |end Menu
    +-->
<!--+
    |start content
    +-->
<div id="content">
<div title="Portable Document Format" class="pdflink">
<a class="dida" href="bestpractises.pdf"><img alt="PDF -icon" src="../../../skin/images/pdfdoc.gif" class="skin"><br>
        PDF</a>
</div>
<h1>Best Practises when Developing with Lenya 1.4</h1>
    
<a name="N1000E"></a><a name="Speeding+Up+Development"></a>
<h2 class="h3">Speeding Up Development</h2>
<div class="section">
<p>
        Following these tips can increase your development productivity:
      </p>
<ul>
        
<li>
          Set up your development environment correctly. The time you invest in this will
          pay off very quickly.
        </li>
        
<li>
          Practise <a href="http://en.wikipedia.org/wiki/Test_driven_development">test-driven
          development</a>. Since you can execute the tests with a single click in Eclipse,
          you don't need to build and restart the application to check if something works.
        </li>
        
<li>
          During development, set <span class="codefrag">modules.copy=false</span> in <span class="codefrag">local.build.properties</span>.
          This way, you don't have to execute the build process when you change something in a module
          (except Java files and patches for <span class="codefrag">cocoon.xconf</span>).
        </li>
        
<li>
          Put all your non-Java files - XSLTs, CSS files, JX templates and complex sitemaps - in modules.
          This allows you to change them without rebuilding (see preceding tip).
          Using modules for anything which is not specific for a publication is a
          good practise anyway - it encourages generic design and reuse.
        </li>
      
</ul>
</div>
    
<a name="N10034"></a><a name="Building+Maintainable+Applications"></a>
<h2 class="h3">Building Maintainable Applications</h2>
<div class="section">
<p>
        To ensure the simplicity and maintainability of your Lenya-based applications,
        try the following tips:
      </p>
<ul>
        
<li>
          Use resource types sparingly. A new resource type adds complexity to your
          application. It requires to patch <span class="codefrag">cocoon.xconf</span> and is therefore
          a static element of your application. Most differences between pages can be
          implemented by using different XSLTs or templates in the presentation layer,
          or even using distinct samples to provide a starting point for a certain type of
          page.
        </li>
        
<li>
          Make extensive use of resource type formats. This way, you create orthogonality -
          if you implement a certain format in each of your resource types, it is very
          easy to include arbitrary resources in different locations. Typical examples
          of formats are print views, teasers, summaries, icons, and RSS feeds.
        </li>
        
<li>
          Modularize your application. You can put each resource type in a separate
          module. Service implementations are good module candidates as well - by
          adding or removing them from your build path you can easily switch between
          several implementions. A complex application is likely to feature a
          <span class="codefrag">shared</span> module which contains utility XSLTs and other resources
          which are used across multiple modules.
        </li>
        
<li>
          Use templates instead of XSLTs for layout purposes. This is an example of the
          <a href="http://en.wikipedia.org/wiki/Separation_of_concerns">Separation of Concerns</a>
          paradigm. XHTML templates can be edited without XSLT skills and without influencing
          your presentation logic. For more information, check out the article
          <a href="http://www.cocooncenter.org/articles/stylefree.html">Style-free Stylesheets with Cocoon</a>
          on cocooncenter.org.
        </li>
        
<li>
          Keep your sitemaps simple. It is very hard to write tests for sitemaps, and complex ones
          are difficult to read. Instead of building huge nested pipelines (e.g. for error handling),
          it often makes sense to implement a specific selector or action to handle the
          complicated aspects of the page flow. As soon as the functionality is implemented
          in Java, it can be tested using unit tests and refactored using your favorite IDE.
        </li>
        
<li>
          Don't overload your usecase handler classes with view-specific details. The handler
          is occupied with business logic, it shouldn't have to deal with the view as well.
          If the JX templates become too complex, consider writing utility classes and
          call them from the template. Modularizing JX templates is another promising approach
          to reduce their complexity.
        </li>
      
</ul>
</div>
  
</div>
<!--+
    |end content
    +-->
<div class="clearboth">&nbsp;</div>
</div>
<div id="footer">
<!--+
    |start bottomstrip
    +-->
<div class="lastmodified">
<script type="text/javascript"><!--
document.write("Last Published: " + document.lastModified);
//  --></script>
</div>
<div class="copyright">
        Copyright &copy;
         2002-2005 <a href="http://www.apache.org/licenses/LICENSE-2.0">The Apache Software Foundation.</a>
</div>
<div id="feedback">
    Send feedback about the website to:
  <a id="feedbackto" href="mailto:dev@lenya.apache.org?subject=Feedback%C2%A0for%C2%A0docs/1_4/tutorials/bestpractises.html">dev@lenya.apache.org</a>
</div>
<!--+
    |end bottomstrip
    +-->
</div>
</body>
</html>
