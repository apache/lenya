<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd"><html><head><META http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta content="Apache Forrest" name="Generator"><meta name="Forrest-version" content="0.6"><meta name="Forrest-skin-name" content="pelt"><title>Installation of the Source Version</title><link type="text/css" href="../skin/basic.css" rel="stylesheet"><link media="screen" type="text/css" href="../skin/screen.css" rel="stylesheet"><link media="print" type="text/css" href="../skin/print.css" rel="stylesheet"><link type="text/css" href="../skin/profile.css" rel="stylesheet"><script src="../skin/getBlank.js" language="javascript" type="text/javascript"></script><script src="../skin/getMenu.js" language="javascript" type="text/javascript"></script><script src="../skin/fontsize.js" language="javascript" type="text/javascript"></script><link rel="shortcut icon" href="../favicon.ico"></head><body onload="init()"><script type="text/javascript">ndeSetTextSize();</script><div id="top"><!--+
    |breadtrail
    +--><div class="breadtrail"><a href="http://www.apache.org/">apache</a><script src="../skin/breadcrumbs.js" language="JavaScript" type="text/javascript"></script></div><!--+
    |header
    +--><div class="header"><!--+
    |start group logo
    +--><!--+
    |end group logo
    +--><!--+
    |start Project Logo
    +--><div class="projectlogoA1"><a href="http://lenya.apache.org"><img class="logoImage" alt="Lenya" src="../images/apache-lenya-light.png" title="  	Apache Lenya is a Java-based Open-Source Content Management System.  	It is based on open standards such as XML and XSLT.  	One of its core components is Cocoon from the Apache Software Foundation.  "></a></div><!--+
    |end Project Logo
    +--><!--+
    |start Search
    +--><div class="searchbox"><form action="http://www.google.com/search" method="get" class="roundtopsmall"><input value="cocoon.apache.org" name="sitesearch" type="hidden"><input onFocus="getBlank (this, 'Search the site with :');" value="Search the site with :" size="25" name="q" id="query" type="text">&nbsp;                     <input name="Search" value="Search" type="submit"></form></div><!--+
    |end search
    +--><!--+
    |start Tabs
    +--><ul id="tabs"><li><a class="base-not-selected" href="../index.html">Project</a></li><li class="current"><a class="base-selected" href="../installation/index.html">Installation</a></li><li><a class="base-not-selected" href="../docs/index.html">Documentation</a></li><li><a class="base-not-selected" href="../community/index.html">Community</a></li></ul><!--+
    |end Tabs
    +--></div></div><div id="main"><div id="publishedStrip"><!--+
    |start Subtabs
    +--><div id="level2tabs"></div><!--+
    |end Endtabs
    +--><script type="text/javascript" language="JavaScript"><!--              document.write("Published: " + document.lastModified);              //  --></script></div><!--+
    |breadtrail
    +--><div class="breadtrail">                          &nbsp;           </div><!--+
    |start Menu, mainarea
    +--><!--+
    |start Menu
    +--><div id="menu"><div onclick="SwitchMenu('menu_selected_1.1', '../skin/')" id="menu_selected_1.1Title" class="menutitle" style="background-image: url('../skin/images/chapter_open.gif');">Installation</div><div id="menu_selected_1.1" class="selectedmenuitemgroup" style="display: block;"><div class="menuitem"><a title="" href="../installation/prerequisites.html">Prerequisites</a></div><div class="menuitem"><a title="" href="../installation/index.html">Download</a></div><div class="menuitem"><a title="" href="../installation/subversion.html">Subversion Access</a></div><div class="menupage"><div class="menupagetitle">Installation Instructions</div></div></div><div id="credit"></div><div id="roundbottom"><img style="display: none" class="corner" height="15" width="15" alt="" src="../skin/images/rc-b-l-15-1body-2menu-3menu.png"></div><!--+
  |alternative credits
  +--></div><!--+
    |end Menu
    +--><!--+
    |start content
    +--><div id="content"><div id="skinconf-txtlink"></div><div title="Portable Document Format" class="pdflink"><a class="dida" href="source_version.pdf"><img alt="PDF -icon" src="../skin/images/pdfdoc.gif" class="skin"><br>        PDF</a></div><h1>Installation of the Source Version</h1><div id="minitoc-area"><ul class="minitoc"><li><a href="#Standalone+Installation+%28using+the+built-in+Jetty%29">Standalone Installation (using the built-in Jetty)</a></li><li><a href="#Installation+with+Apache+Tomcat">Installation with Apache Tomcat</a></li></ul></div> <a name="N1001B"></a><a name="Standalone+Installation+%28using+the+built-in+Jetty%29"></a><h2 class="underlined_10">Standalone Installation (using the built-in Jetty)</h2><div class="section"><ol>  <li>    <strong>Get the Java SDK</strong> (see <a href="prerequisites.html">Prerequisites</a>)    <p></p>  </li>  <li>    <p>    <strong>Get Apache Cocoon</strong> (see <a href="prerequisites.html">Prerequisites</a>)    </p>  </li>  <li>    <p>    <strong>Get Apache Lenya</strong> (see <a href="download.html">Download Lenya</a>)    </p>  </li>    <li>    <p>    Extract the downloaded Lenya archive to the <span class="codefrag">lenya</span> directory as described below. If you use    Subversion, create your Lenya checkout inside the <span class="codefrag">src</span> directory as described below.    It is recommended to use the following directory structure for an easier build experience.</p><pre class="code">your_home (or c:\ on Windows, NOT My Documents)    /src        /lenya                  $LENYA_HOME        /cocoon-2.1             $COCOON_HOME            /build                /webapp         $COCOON_WEBAPP</pre>    <p></p>  </li>  <li>    <p>      <strong>Copy the Cocoon build properties supplied by Lenya</strong>    </p>    <p>      Copy the files    </p>    <ul>    <li><span class="codefrag">local.build.properties</span></li>    <li><span class="codefrag">local.blocks.properties</span></li>    </ul>    <p>      from <span class="codefrag">$LENYA_HOME/src/cocoon</span> to <span class="codefrag">$COCOON_HOME</span>.    </p>  </li>  <li>    <p>    <strong>Compile Cocoon</strong>    </p>    <p><strong>MS Windows</strong></p><pre class="code">$COCOON_HOME &gt; build.bat</pre>    <p><strong>Unix</strong></p><pre class="code">$COCOON_HOME &gt; ./build.sh -Dinclude.webapp.libs=yes webapp</pre>  </li>  <li><p>    <strong>Configure Lenya</strong></p>    <p>If your Cocoon source tree is set up as described above, you can skip this step.        If your Cocoon source tree is not at <span class="codefrag">../cocoon-2.1</span> relative to Lenya,         you need to edit your build properties. To do this, copy <span class="codefrag">$LENYA_HOME/build.properties</span> to    <span class="codefrag">$LENYA_HOME/local.build.properties</span>.    </p>    <p>    Edit <span class="codefrag">local.build.properties</span>. For the described configuration the following    settings will work (<strong>MS Windows:</strong> Don't use backslashes "<span class="codefrag">\</span>"    for directory separation.)    </p>    <ul>      <li><span class="codefrag">cocoon.src.dir=$COCOON_HOME</span></li>      <li><span class="codefrag">tomcat.home.dir=$TOMCAT_HOME</span></li>    </ul>    <p></p>  </li>  <li><p>    <strong>Build Lenya</strong></p>        <p> Execute <span class="codefrag">build.bat</span> or <span class="codefrag">build.sh</span> in your Lenya source directory, depending on your platform.</p>  </li> <li>    <p>    <strong>Start Lenya</strong></p>        <p> Execute <span class="codefrag">lenya.bat</span> or <span class="codefrag">lenya.sh servlet</span> in your Lenya source directory, depending on your platform.</p> </li>  <li>    <p>    <strong>Test the installation</strong>    </p>    <p>    <a href="http://localhost:8888">http://localhost:8888</a>    </p>  </li></ol></div><a name="N100F2"></a><a name="Installation+with+Apache+Tomcat"></a><h2 class="underlined_10">Installation with Apache Tomcat</h2><div class="section"><p>Installing Lenya with Tomcat is mostly the same procedure. Follow Steps 1-6, then do the steps below.</p><ol>      <li><p>    <strong>get Apache Tomcat</strong> (see <a href="prerequisites.html">Prerequisites</a>)    </p>  </li>  <li>    <p>    <strong>Install Apache Tomcat</strong>    </p>    <p>    See <a href="http://jakarta.apache.org/tomcat/tomcat-5.0-doc/setup.html">Tomcat 5.0 Setup</a>    </p>    <p>    <strong>MS Windows:</strong><br>    Basically this is setting the <span class="codefrag">JAVA_HOME</span> environment variable and    running the Tomcat installer. Decide to run Tomcat as a Windows NT/2000/XP-Service.</p>   <div class="frame warning"><div class="label">Warning</div><div class="content">Make sure you do not install at a location with spaces in the path</div></div>  </li>  <li><p>    <strong>Configure Lenya</strong></p>    <p>To install Lenya with Tomcat, you need to edit your build properties. To do this,         copy <span class="codefrag">$LENYA_HOME/build.properties</span> to    <span class="codefrag">$LENYA_HOME/local.build.properties</span>.    </p>    <p>    Edit <span class="codefrag">local.build.properties</span>. For the described configuration the following    settings will work (<strong>MS Windows:</strong> Don't use backslashes "<span class="codefrag">\</span>"    for directory separation.) It is important that <span class="codefrag">tomcat.home.dir</span> is an    absolute path. Replace <span class="codefrag">$TOMCAT_HOME</span> by your Tomcat installation directory.     If your Cocoon source directory is not at <span class="codefrag">../cocoon-2.1</span> relative to Lenya,    then change the <span class="codefrag">cocoon.webapp.dir</span> and <span class="codefrag">cocoon.src.dir</span> properties.    </p>    <ul>      <li><span class="codefrag">cocoon.src.dir=$COCOON_HOME</span></li>      <li><span class="codefrag">tomcat.home.dir=$TOMCAT_HOME</span></li>    </ul>    <p></p>  </li>  <li><p>    <strong>Build Lenya</strong></p>        <p> Execute <span class="codefrag">ant install</span> in your Lenya source directory. </p>  </li>  <li><p>    <strong>Restart Tomcat</strong></p>        <p> Restart Tomcat to load the Lenya webapp. </p>  </li>  <li>    <p>    <strong>Test the installation</strong>    </p>    <p>    <a href="http://localhost:8080/lenya">http://localhost:8080/lenya</a>    </p>  </li>    </ol></div><p align="right"><font size="-2">by&nbsp;Lenya community</font></p></div><!--+
    |end content
    +--><div class="clearboth">&nbsp;</div></div><div id="footer"><!--+
    |start bottomstrip
    +--><div class="lastmodified"><script type="text/javascript"><!--document.write("Last Published: " + document.lastModified);//  --></script></div><div class="copyright"> Copyright &copy; 2002-2004 The Apache Software Foundation.</div><div id="feedback">    Send feedback about the website to:  <a id="feedbackto" href="mailto:lenya-dev@cocoon.apache.org?subject=Feedback%C2%A0for%C2%A0installation/source_version.html">lenya-dev@cocoon.apache.org</a></div><!--+
    |end bottomstrip
    +--></div></body></html>