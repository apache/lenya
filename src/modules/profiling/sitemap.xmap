<?xml version="1.0" encoding="UTF-8"?>
<map:sitemap xmlns:map="http://apache.org/cocoon/sitemap/1.0">

<map:components>
  <map:generators default="file">
    <map:generator label="content,data" logger="sitemap.generator.profiler" name="profiler"
        src="org.apache.cocoon.generation.ProfilerGenerator"/>
  </map:generators>
</map:components>

<map:views>
  <map:view name="pretty-content" from-label="data">
    <map:transform src="fallback://lenya/modules/prettyprinting/xslt/xml2nicexml.xsl"/>
    <map:transform src="xslt/xmlverbatimwrapper.xsl">
      <map:parameter 
          name="css-stylesheet" 
          value="{page-envelope:context-prefix}/modules/profiling/css/xmlverbatim.css"
      />
    </map:transform>
    <map:transform type="proxy"/>
    <map:serialize type="xhtml"/>
  </map:view>
</map:views>
 
<map:pipelines>
  <map:pipeline>
    <map:match pattern="profile.html">
      <map:generate type="profiler"/>
      <map:transform src="xslt/profile2xhtml.xsl">
        <map:parameter name="use-request-parameters" value="true"/>
      </map:transform>
      <map:serialize type="xhtml"/>
    </map:match>
    <map:match pattern="profile.xml">
      <map:generate type="profiler"/>
      <map:transform src="fallback://lenya/modules/prettyprinting/xslt/xml2nicexml.xsl"/>
      <map:serialize type="xml"/>
    </map:match>    
  </map:pipeline>
</map:pipelines>

</map:sitemap>
