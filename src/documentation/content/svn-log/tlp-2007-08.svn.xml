<?xml version="1.0"?>
<log>
<logentry
   revision="561936">
<author>rfrovarp</author>
<date>2007-08-01T20:15:18.549275Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/TreeNodeImpl.java</path>
</paths>
<msg>Correctly retrieves list of preceding siblings now. Can now move node up to top position in a substree.
</msg>
</logentry>
<logentry
   revision="562256">
<author>nettings</author>
<date>2007-08-02T21:13:17.575827Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RCMLEntry.java</path>
</paths>
<msg>tried to clarify javadocs, please review!
</msg>
</logentry>
<logentry
   revision="562390">
<author>andreas</author>
<date>2007-08-03T08:50:55.906005Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Revisions.java</path>
</paths>
<msg>[minor change] removed unused import, fixed special character issue</msg>
</logentry>
<logentry
   revision="562393">
<author>nettings</author>
<date>2007-08-03T09:03:17.182624Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RCMLEntry.java</path>
</paths>
<msg>javadocs additions
</msg>
</logentry>
<logentry
   revision="562400">
<author>andreas</author>
<date>2007-08-03T10:02:14.626865Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Revisions.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/config/cocoon-xconf/tab/usecase-tab-revisions.xconf</path>
</paths>
<msg>Revisions usecase: Removed NPE workaround, use parameter for workflow event</msg>
</logentry>
<logentry
   revision="562417">
<author>andreas</author>
<date>2007-08-03T11:41:53.587166Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/config/cocoon-xconf/site/usecase-site-rollback.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Rollback.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RevisionController.java</path>
</paths>
<msg>Simplified and cleaned up revision control code. The SourceNodeRCML doesn't write to the real source anymore. This is part of the fix for bug 42937.</msg>
</logentry>
<logentry
   revision="562418">
<author>andreas</author>
<date>2007-08-03T11:42:36.987471Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/editors/java/src/org/apache/lenya/cms/editors/forms/OneFormEditor.java</path>
<path
   action="M">/lenya/trunk/src/modules/editors/java/src/org/apache/lenya/cms/editors/forms/FormsEditor.java</path>
</paths>
<msg>Form editors: add check if source document is null (more robust when running web tests)</msg>
</logentry>
<logentry
   revision="562419">
<author>andreas</author>
<date>2007-08-03T12:01:47.014410Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/ResourceTypeImpl.java</path>
</paths>
<msg>Use LinkedHashMap to preserve resource type sample order. This fixes bug 42942.</msg>
</logentry>
<logentry
   revision="562543">
<author>rfrovarp</author>
<date>2007-08-03T18:32:15.610325Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/editors/usecases/forms/oneform.jx</path>
<path
   action="M">/lenya/trunk/src/modules/editors/usecases/forms/forms.jx</path>
</paths>
<msg>Prevent backspace key as back in the two forms editors.
</msg>
</logentry>
<logentry
   revision="562758">
<author>nettings</author>
<date>2007-08-04T20:14:18.631027Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/reference/link-management.xml</path>
</paths>
<msg>corrected docs:
with "lenya-document:" links, even the UUID is optional.


</msg>
</logentry>
<logentry
   revision="562759">
<author>nettings</author>
<date>2007-08-04T20:23:12.998642Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/reference/link-management.xml</path>
</paths>
<msg>added note about chaperon

</msg>
</logentry>
<logentry
   revision="562763">
<author>nettings</author>
<date>2007-08-04T20:37:55.309959Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/reference/lenya-sitemaps.xml</path>
</paths>
<msg>removed obsolete reference to wf.event parameter, fixed typos, added
some links.
</msg>
</logentry>
<logentry
   revision="562767">
<author>bobharner</author>
<date>2007-08-04T21:56:33.859968Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/reference/lenya-sitemaps.xml</path>
</paths>
<msg>Fixed missing &lt;/p&gt; tag so the ForrestBot build won't fail again.</msg>
</logentry>
<logentry
   revision="562774">
<author>nettings</author>
<date>2007-08-04T22:52:42.562833Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/tinymce/xslt/page2edit.xsl</path>
</paths>
<msg>tinymce now also uses richard's backspace catcher, for consistency
with the other editors.

</msg>
</logentry>
<logentry
   revision="562850">
<author>nettings</author>
<date>2007-08-05T11:32:59.521445Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/gui/impl/GUIManagerImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/UsecaseAuthorizer.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/cocoon/transformation/UsecaseMenuTransformer.java</path>
</paths>
<msg>removed unused parameter "requestURI" from UsecaseAuthorizer interface
fixed UsecaseAuthorizerImpl and external occurrences accordingly

cleaned up UsecaseAuthorizerImpl:
* made helper functions private, since they are not part of any
interface, and an "Impl" should not add to the externally visible API.
* removed duplicate javadocs, added @see to interface docs

</msg>
</logentry>
<logentry
   revision="562851">
<author>nettings</author>
<date>2007-08-05T11:41:32.235937Z</date>
<paths>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/ac/usecases"
   copyfrom-rev="562848"
   action="A">/lenya/trunk/src/modules-core/acusecases/usecases</path>
<path
   action="M">/lenya/trunk/src/modules-core/acusecases/config/cocoon-xconf/usecase-ac-login.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/acusecases/config/cocoon-xconf/usecase-ac-logout.xconf</path>
<path
   action="D">/lenya/trunk/src/modules-core/ac/usecases</path>
</paths>
<msg>moved login/logout usecase views from ac to acusecases module, where the
java part is already. changed xconfs accordingly
</msg>
</logentry>
<logentry
   revision="562853">
<author>nettings</author>
<date>2007-08-05T12:04:53.094734Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
</paths>
<msg>missed one public helper method in the last commit...
</msg>
</logentry>
<logentry
   revision="562859">
<author>nettings</author>
<date>2007-08-05T12:44:29.730114Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
</paths>
<msg>reordered properties and methods. no functional change.
</msg>
</logentry>
<logentry
   revision="562861">
<author>nettings</author>
<date>2007-08-05T12:49:16.486495Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
</paths>
<msg>made getConfiguration() private. that's all for now.. :)
</msg>
</logentry>
<logentry
   revision="562864">
<author>nettings</author>
<date>2007-08-05T12:59:06.670945Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/PolicyAuthorizer.java</path>
</paths>
<msg>rearranged methods and properties. no functional change.
</msg>
</logentry>
<logentry
   revision="562865">
<author>nettings</author>
<date>2007-08-05T13:09:13.571046Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/PolicyAuthorizer.java</path>
</paths>
<msg>removed private helper functions, moved code into public interface
method.
</msg>
</logentry>
<logentry
   revision="562875">
<author>nettings</author>
<date>2007-08-05T14:48:31.789155Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/UsecaseAuthorizer.java</path>
</paths>
<msg>javadoc additions.
</msg>
</logentry>
<logentry
   revision="562956">
<author>nettings</author>
<date>2007-08-05T20:57:39.444112Z</date>
<paths>
<path
   copyfrom-path="/lenya/trunk"
   copyfrom-rev="562954"
   action="A">/lenya/sandbox/newPolicyAuth</path>
</paths>
<msg>experimental new policy authorizer
maps url authorization to usecase authorizer via a new pseudo-usecase
called ac.visit.
addresses bug http://issues.apache.org/bugzilla/show_bug.cgi?id=42952
the current hack-and-slash approach is to delegate a normal uri request
http://foo/bar/baz to http://foo/bar/baz?lenya.usecase=ac.visit and thus
using all our usecase policy GUI features for page access as well.
in the long run, PolicyAuthorizer should probably be removed
completely...

please review and comment. the branch was necessary, because java
dependencies made it necessary to juggle some files between ac and
acusecases, which made the changeset too messy for a patch.
</msg>
</logentry>
<logentry
   revision="562961">
<author>nettings</author>
<date>2007-08-05T21:08:25.806355Z</date>
<paths>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java"
   copyfrom-rev="562861"
   action="R">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
<path
   action="A">/lenya/trunk/src/modules-core/acusecases/config/cocoon-xconf/usecase-ac-visit.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/config/module.xml</path>
<path
   action="D">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac</path>
<path
   action="A">/lenya/trunk/src/modules-core/acusecases/sitemap.xmap</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase"
   copyfrom-rev="562853"
   action="A">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/usecase</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/PolicyAuthorizer.java</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/policies/authoring/subtree-policy.acml</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/module.xml</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/UsecaseAuthorizer.java"
   copyfrom-rev="562875"
   action="R">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/usecase/UsecaseAuthorizer.java</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/policies/index.html/url-policy.acml</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/usecase-policies.xml</path>
</paths>
<msg>move UsecaseAuthorizer, impl and helper classes from usecase to ac
module to avoid circular dependencies
create new usecase ac.visit
change PolicyAuthorizer to check ac.visit permission for each requested
page
add usecase policy to default: ac.visit will be granted to editors,
admins and reviewers (basically restoring the old implicit behaviour,
but now in a clean and obvious way without opening security holes)

WARNING: this is a proof-of-concept code that touches security-critical
infrastructure. it will compile and has been
tested briefly. there has been NO SECURITY AUDIT of any kind. the whole
shebang may be utter bogus - it's here as a discussion item.

</msg>
</logentry>
<logentry
   revision="562973">
<author>nettings</author>
<date>2007-08-05T21:44:42.780609Z</date>
<paths>
<path
   action="D">/lenya/trunk/src/modules-core/acusecases/config/cocoon-xconf/usecase-ac-visit.xconf</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/UsecaseAuthorizer.java"
   copyfrom-rev="562875"
   action="R">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/UsecaseAuthorizer.java</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseRolesBuilder.java"
   copyfrom-rev="562875"
   action="R">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseRolesBuilder.java</path>
<path
   action="D">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/usecase</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/policies/authoring/subtree-policy.acml</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/module.xml</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase"
   copyfrom-rev="562875"
   action="R">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl"
   copyfrom-rev="562875"
   action="R">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/policies/index.html/url-policy.acml</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/usecase-policies.xml</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/config/module.xml</path>
<path
   action="D">/lenya/trunk/src/modules-core/acusecases/sitemap.xmap</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac"
   copyfrom-rev="562875"
   action="A">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java"
   copyfrom-rev="562875"
   action="R">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
<path
   copyfrom-path="/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseRoles.java"
   copyfrom-rev="562875"
   action="R">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseRoles.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/PolicyAuthorizer.java</path>
</paths>
<msg>svn merge -r 562961:562875 https://svn.apache.org/repos/asf/lenya/trunk
undo accidental commit - apologies for the noise.
</msg>
</logentry>
<logentry
   revision="562978">
<author>nettings</author>
<date>2007-08-05T22:13:19.164130Z</date>
<paths>
<path
   action="M">/lenya/sandbox/newPolicyAuth/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/PolicyAuthorizer.java</path>
<path
   action="M">/lenya/sandbox/newPolicyAuth/src/pubs/default/config/access-control/policies/authoring/subtree-policy.acml</path>
<path
   action="M">/lenya/sandbox/newPolicyAuth/src/modules-core/ac/config/module.xml</path>
<path
   action="D">/lenya/sandbox/newPolicyAuth/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase</path>
<path
   action="M">/lenya/sandbox/newPolicyAuth/src/pubs/default/config/access-control/usecase-policies.xml</path>
<path
   action="M">/lenya/sandbox/newPolicyAuth/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
<path
   action="A">/lenya/sandbox/newPolicyAuth/src/modules-core/acusecases/config/cocoon-xconf/usecase-ac-visit.xconf</path>
<path
   action="A">/lenya/sandbox/newPolicyAuth/src/modules-core/acusecases/sitemap.xmap</path>
<path
   copyfrom-path="/lenya/sandbox/newPolicyAuth/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase"
   copyfrom-rev="562965"
   action="A">/lenya/sandbox/newPolicyAuth/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/usecase</path>
</paths>
<msg>an attack on bug http://issues.apache.org/bugzilla/show_bug.cgi?id=42952

* move UsecaseAuthorizer, impl and helper classes from usecase to ac
module to avoid circular dependencies
* create new usecase ac.visit
* change PolicyAuthorizer to check ac.visit permission for each requested
page
* add usecase policy to default: ac.visit will be granted to editors,
admins and reviewers (basically restoring the old implicit behaviour,
but now in a clean and obvious way without opening security holes)

WARNING: this is a proof-of-concept code that touches security-critical
infrastructure. it will compile and has been
tested briefly. there has been NO SECURITY AUDIT of any kind. the whole
shebang may be utter bogus - it's here as a discussion item.

please review and comment.
</msg>
</logentry>
<logentry
   revision="563122">
<author>nettings</author>
<date>2007-08-06T12:25:55.123212Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/release.xml</path>
</paths>
<msg>moved finished draft from wiki to releases.xml.
some loose ties, see NOTE:s and FIXME:s.

</msg>
</logentry>
<logentry
   revision="563146">
<author>nettings</author>
<date>2007-08-06T14:17:56.541186Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/cocoon-xconf/access-controller-resolvers.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/cocoon-xconf/bypassable-access-controller.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/cocoon-xconf/authenticator.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/cocoon-xconf/policy-managers.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/cocoon-xconf/access-control-input-module.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/cocoon-xconf/accreditable-manager-factory.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/cocoon-xconf/authorizers.xconf</path>
</paths>
<msg>no functional changes.
removed erroneous comments from xpatch files.
whitenoise.
</msg>
</logentry>
<logentry
   revision="563176">
<author>nettings</author>
<date>2007-08-06T15:57:36.518209Z</date>
<paths>
<path
   action="D">/lenya/trunk/src/modules-core/usecase/search</path>
</paths>
<msg>removed unused search usecase view from usecase module
</msg>
</logentry>
<logentry
   revision="563178">
<author>nettings</author>
<date>2007-08-06T16:02:46.607361Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/edit-document.js</path>
</paths>
<msg>added deprecation note (file remains for now as it's being used by kupu
and bxe)

</msg>
</logentry>
<logentry
   revision="563186">
<author>nettings</author>
<date>2007-08-06T16:51:03.311086Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/usecase.xmap</path>
</paths>
<msg>fix internal-only setting. it was wrongly attached to a matcher instead
of the pipeline...

</msg>
</logentry>
<logentry
   revision="563234">
<author>nettings</author>
<date>2007-08-06T19:36:23.273027Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
</paths>
<msg>removed unused SourceResolver. 
no functional change.
</msg>
</logentry>
<logentry
   revision="563240">
<author>nettings</author>
<date>2007-08-06T19:58:45.495902Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
</paths>
<msg>added some comments.
there is a (to me) totally mysterious conditional regarding the source
of the usecase policy configuration. if you know your way around this
piece of code, could you please chuck out my FIXME: comments and add
some clarification? thanks.

</msg>
</logentry>
<logentry
   revision="563459">
<author>nettings</author>
<date>2007-08-07T12:00:20.927922Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/DefaultAccessController.java</path>
</paths>
<msg>grouped properties by scope at the top.
no functional changes.
</msg>
</logentry>
<logentry
   revision="563801">
<author>andreas</author>
<date>2007-08-08T09:59:36.198169Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
</paths>
<msg>UsecaseAuthorizerImpl: Removed unused code, updated javadocs</msg>
</logentry>
<logentry
   revision="563892">
<author>rfrovarp</author>
<date>2007-08-08T14:17:29.535412Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/editors/resources/javascript/disablebackspace.js</path>
</paths>
<msg>Fixes issue with the script eating backspaces in the editing area. Thanks to JÃ¶rn for reporting.
</msg>
</logentry>
<logentry
   revision="563898">
<author>rfrovarp</author>
<date>2007-08-08T14:26:29.132451Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/editors/resources/javascript/disablebackspace.js</path>
</paths>
<msg>Removed debugging code.
</msg>
</logentry>
<logentry
   revision="564017">
<author>rfrovarp</author>
<date>2007-08-08T20:54:55.411599Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/usecases/site/delete.jx</path>
</paths>
<msg>Fixes bug 43064. Thanks to Markus Angst for the bug report and patch.
</msg>
</logentry>
<logentry
   revision="564254">
<author>andreas</author>
<date>2007-08-09T16:11:40.620092Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/usecases.js</path>
</paths>
<msg>Don't create continuation if usecase preconditions failed. This avoids the 'no transition for event checkExecutionConditions in state start' errors.</msg>
</logentry>
<logentry
   revision="564258">
<author>andreas</author>
<date>2007-08-09T16:13:20.736187Z</date>
<paths>
<path
   copyfrom-path="/lenya/trunk/src/impl/java/org/apache/lenya/cms/repository/UUIDGenerator.java"
   copyfrom-rev="563797"
   action="A">/lenya/trunk/src/java/org/apache/lenya/cms/repository/UUIDGenerator.java</path>
<path
   action="D">/lenya/trunk/src/impl/java/org/apache/lenya/cms/repository/UUIDGenerator.java</path>
</paths>
<msg>Moved UUIDGenerator service from impl to api</msg>
</logentry>
<logentry
   revision="564261">
<author>andreas</author>
<date>2007-08-09T16:16:34.487652Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/transformation/LuceneIndexTransformer2.java</path>
<path
   action="M">/lenya/trunk/src/modules/lucene/resources/i18n/cmsui_de.xml</path>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/components/search/Index.java</path>
<path
   action="M">/lenya/trunk/src/modules/lucene/sitemap.xmap</path>
<path
   action="M">/lenya/trunk/src/modules/lucene/resources/i18n/cmsui.xml</path>
</paths>
<msg>Send notification message if a document could not be indexed (temporary workaround for bug 42510 until we have an indexing queue)</msg>
</logentry>
<logentry
   revision="564262">
<author>andreas</author>
<date>2007-08-09T16:24:42.201334Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/usecases.js</path>
</paths>
<msg>Create continuation for usecase if preconditions failed, but don't advance/execute.</msg>
</logentry>
<logentry
   revision="564264">
<author>andreas</author>
<date>2007-08-09T16:28:15.375062Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/CheckOutEntry.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/transaction/UnitOfWorkImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Rollback.java</path>
<path
   action="M">/lenya/trunk/src/impl/test/org/apache/lenya/cms/rc/RCMLTest.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/Session.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/repository/SharedItemStoreImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/Node.java</path>
<path
   action="M">/lenya/trunk/src/impl/test/org/apache/lenya/cms/rc/RevisionControllerTest.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RevisionController.java</path>
<path
   action="M">/lenya/trunk/src/modules/development/test/jmeter/lenyaJMeterTest.jmx</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/transaction/Versionable.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceWrapper.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/flow/FlowHelperImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeMetaDataHandler.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RCMLEntry.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/SessionImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeMetaData.java</path>
<path
   action="M">/lenya/trunk/src/impl/test/org/apache/lenya/transaction/MockTransactionable.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ReservedCheckinAction.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ReservedCheckoutAction.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ReservedCheckoutTestAction.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/CheckInEntry.java</path>
</paths>
<msg>Refactored revision control: clean up XML reading+writing. RCML objects are now singletons per source URI. This allows to synchronize access per RCML object, avoiding synchronization issues which occured when running load tests. UnitOfWork.commit() and rollback() are now synchronized via the class object to avoid inter-usecase commit synchronization issues (also occured during load tests).</msg>
</logentry>
<logentry
   revision="564266">
<author>andreas</author>
<date>2007-08-09T16:29:08.793157Z</date>
<paths>
<path
   action="A">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRcmlFactory.java</path>
</paths>
<msg>Added SourceNodeRcmlFactory which creates per-URI singleton RCML objects (forgot in last commit)</msg>
</logentry>
<logentry
   revision="564269">
<author>andreas</author>
<date>2007-08-09T16:36:36.821394Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/development/test/jmeter/lenyaJMeterTest.jmx</path>
</paths>
<msg>Updating load test after changes to usecase flowscript</msg>
</logentry>
<logentry
   revision="564473">
<author>jann</author>
<date>2007-08-10T05:52:08.032645Z</date>
<paths>
<path
   action="M">/lenya/branches/BRANCH_1_2_X/src/webapp/lenya/usecases/neutron/neutron.js</path>
<path
   action="A">/lenya/branches/BRANCH_1_2_X/src/webapp/lenya/usecases/neutron/jx/meta.jx</path>
<path
   action="A">/lenya/branches/BRANCH_1_2_X/src/webapp/lenya/usecases/neutron/jx/upload-success.jx</path>
</paths>
<msg>Adding upload feature to neutron usecase. Thanks to Thomas Comiotto</msg>
</logentry>
<logentry
   revision="564507">
<author>andreas</author>
<date>2007-08-10T08:33:31.158780Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/flow/FlowHelper.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Rollback.java</path>
<path
   action="M">/lenya/trunk/src/impl/test/org/apache/lenya/cms/rc/RCMLTest.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/SiteOverview.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRevision.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/Node.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentManagerImpl.java</path>
<path
   action="M">/lenya/trunk/src/impl/test/org/apache/lenya/cms/rc/RevisionControllerTest.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeHistory.java</path>
<path
   action="D">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RevisionController.java</path>
<path
   action="M">/lenya/trunk/src/modules/webdav/java/src/org/apache/lenya/cms/usecases/webdav/Propfind.java</path>
<path
   action="M">/lenya/trunk/src/modules/webdav/java/src/org/apache/lenya/cms/usecases/webdav/FilePropfind.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/Revision.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/usecases/tab/revisions.jx</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/flow/FlowHelperImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/History.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/RevisionControllerAction.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Revisions.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/DiscoverCheckoutAction.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ReservedCheckinAction.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ReservedCheckoutTestAction.java</path>
</paths>
<msg>Removed method Node.getRcml() for safety reasons. This lead to the removal of the revision controller class and some refactorings.</msg>
</logentry>
<logentry
   revision="564527">
<author>andreas</author>
<date>2007-08-10T09:27:41.510347Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/config/menus/generic.xsp</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/resources/i18n/cmsui_de.xml</path>
<path
   action="A">/lenya/trunk/src/modules-core/sitemanagement/usecases/site/forceCheckIn.jx</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/Node.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/resources/i18n/cmsui.xml</path>
<path
   action="A">/lenya/trunk/src/modules-core/sitemanagement/config/cocoon-xconf/site/usecase-site-forceCheckIn.xconf</path>
<path
   action="A">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/ForceCheckIn.java</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/usecase-policies.xml</path>
</paths>
<msg>Added usecase to force the check-in of documents.</msg>
</logentry>
<logentry
   revision="564532">
<author>andreas</author>
<date>2007-08-10T09:59:23.819363Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
</paths>
<msg>Fixed revision control issue: Don't consider only backup entries when checking for the last modified version.</msg>
</logentry>
<logentry
   revision="564537">
<author>andreas</author>
<date>2007-08-10T10:16:09.246139Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/ForceCheckIn.java</path>
</paths>
<msg>Added method AbstractUsecase.prepareView() and use it in ForceCheckIn usecase.</msg>
</logentry>
<logentry
   revision="564543">
<author>andreas</author>
<date>2007-08-10T10:53:48.762731Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/access-control.xml</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/DefaultAccessController.java</path>
<path
   action="D">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/PolicyAuthorizer.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/cocoon-xconf/authorizers.xconf</path>
</paths>
<msg>Removed PolicyAuthorizer, moved role resolving to DefaultAccessController</msg>
</logentry>
<logentry
   revision="564551">
<author>andreas</author>
<date>2007-08-10T11:10:57.404960Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/ac/usecase/impl/UsecaseAuthorizerImpl.java</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/usecase-policies.xml</path>
</paths>
<msg>Extend the UsecaseAuthorizerImpl to check the page access. This is done by a ac.visit pseudo-usecase. For more info, see bug 42952. Thanks a lot to Joern Nettingsmeier for the patch (I applied it because it depended on some changes to the role resolving).</msg>
</logentry>
<logentry
   revision="564560">
<author>andreas</author>
<date>2007-08-10T11:35:19.461407Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/release.xml</path>
<path
   action="M">/lenya/docu/tools/document2txt.xsl</path>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/modules/lucene/index.xml</path>
</paths>
<msg>Updated docs: path to document2txt.xsl, formatting and some additions to release guidelines, hint about notification in lucene module</msg>
</logentry>
<logentry
   revision="564561">
<author>andreas</author>
<date>2007-08-10T11:37:58.846989Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/transformation/LuceneIndexTransformer2.java</path>
</paths>
<msg>Log error message when indexing failed.</msg>
</logentry>
<logentry
   revision="564585">
<author>andreas</author>
<date>2007-08-10T13:38:27.528894Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
</paths>
<msg>Fixed javadoc error, synchronize lock method in SourceNode</msg>
</logentry>
<logentry
   revision="564598">
<author>andreas</author>
<date>2007-08-10T14:03:56.992188Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/ForceCheckIn.java</path>
</paths>
<msg>Avoid NPE in force check-in usecase</msg>
</logentry>
<logentry
   revision="564653">
<author>andreas</author>
<date>2007-08-10T16:27:21.075539Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/transaction/UnitOfWorkImpl.java</path>
<path
   action="A">/lenya/trunk/src/java/org/apache/lenya/transaction/TransactionLock.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/SessionImpl.java</path>
</paths>
<msg>Introduced global transaction lock</msg>
</logentry>
<logentry
   revision="564656">
<author>andreas</author>
<date>2007-08-10T16:27:49.596979Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
</paths>
<msg>Removed unnecessary lock check</msg>
</logentry>
<logentry
   revision="564657">
<author>andreas</author>
<date>2007-08-10T16:28:23.172620Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceWrapper.java</path>
</paths>
<msg>Use revision history for last modification date in source nodes, more accurate than file system</msg>
</logentry>
<logentry
   revision="564659">
<author>andreas</author>
<date>2007-08-10T16:28:50.698627Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/SiteTreeImpl.java</path>
</paths>
<msg>Removed unnecessary modification check from site tree (handled by transaction)</msg>
</logentry>
<logentry
   revision="564885">
<author>nettings</author>
<date>2007-08-11T09:47:36.669631Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/webapp/readme.xml</path>
</paths>
<msg>added note to readme about removal of policy authorizer, since it
requires changes to custom publications.
</msg>
</logentry>
<logentry
   revision="565032">
<author>andreas</author>
<date>2007-08-12T10:05:19.768544Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/AreaImpl.java</path>
</paths>
<msg>Load site structure for area every time it is requested to avoid stale site objects</msg>
</logentry>
<logentry
   revision="565039">
<author>andreas</author>
<date>2007-08-12T12:06:16.240543Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
</paths>
<msg>Advance state machine in AbstractUsecase after corresponding method succeeded</msg>
</logentry>
<logentry
   revision="565041">
<author>andreas</author>
<date>2007-08-12T12:11:59.430421Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/SiteTreeImpl.java</path>
</paths>
<msg>Remove unnecessary session selection code from sitetree implementation</msg>
</logentry>
<logentry
   revision="565055">
<author>andreas</author>
<date>2007-08-12T12:49:21.894409Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/StateMachine.java</path>
</paths>
<msg>Added transition check for AbstractUsecase methods</msg>
</logentry>
<logentry
   revision="565056">
<author>andreas</author>
<date>2007-08-12T12:50:19.533041Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentImpl.java</path>
</paths>
<msg>[minor change] improved error message</msg>
</logentry>
<logentry
   revision="565057">
<author>andreas</author>
<date>2007-08-12T12:50:57.102419Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentFactoryImpl.java</path>
</paths>
<msg>[refactoring] better code re-use in DocumentFactoryImpl</msg>
</logentry>
<logentry
   revision="565067">
<author>andreas</author>
<date>2007-08-12T13:23:53.774085Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentFactoryImpl.java</path>
</paths>
<msg>[minor change] removed unused import</msg>
</logentry>
<logentry
   revision="565068">
<author>andreas</author>
<date>2007-08-12T13:24:14.669470Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/RepositorySourceValidity.java</path>
</paths>
<msg>[minor change] removed unused import</msg>
</logentry>
<logentry
   revision="565069">
<author>andreas</author>
<date>2007-08-12T13:25:06.939682Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/transaction/UnitOfWorkImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/transaction/TransactionLock.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/SessionImpl.java</path>
</paths>
<msg>Moved transaction locking from UnitOfWorkImpl to SessionImpl</msg>
</logentry>
<logentry
   revision="565070">
<author>andreas</author>
<date>2007-08-12T13:31:23.170096Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
</paths>
<msg>Use more readable XML format for RCML files</msg>
</logentry>
<logentry
   revision="565071">
<author>andreas</author>
<date>2007-08-12T13:31:46.101548Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/development/test/jmeter/lenyaJMeterTest.jmx</path>
</paths>
<msg>Improved load test</msg>
</logentry>
<logentry
   revision="565125">
<author>nettings</author>
<date>2007-08-12T19:35:00.917472Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/modules/homepage/config/cocoon-xconf/resource-type-homepage.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/resource/config/cocoon-xconf/module.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/collection/config/cocoon-xconf/resourcetype-collection.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/cforms/config/cocoon-xconf/module.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/blog/config/cocoon-xconf/resourcetypes.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/news/config/cocoon-xconf/resourcetype-news.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/usecasedocument/config/cocoon-xconf/resource-type-usecase.xconf</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/ResourceTypeImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/links/config/cocoon-xconf/resource-type-links.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/opendocument/config/cocoon-xconf/resource-type-opendocument.xconf</path>
<path
   action="M">/lenya/trunk/src/webapp/readme.xml</path>
<path
   action="M">/lenya/trunk/src/modules/xhtml/samples/samples.xml</path>
</paths>
<msg>resource type configuration cleanup part 1:
&lt;sample-name&gt;foo://bar&lt;/sample-name&gt; 
becomes
&lt;sample uri="foo://bar"/&gt;

</msg>
</logentry>
<logentry
   revision="565133">
<author>nettings</author>
<date>2007-08-12T20:18:33.670821Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/modules/homepage/config/cocoon-xconf/resource-type-homepage.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/resource/config/cocoon-xconf/module.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/xhtml/config/cocoon-xconf/resource-type-xhtml.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/collection/config/cocoon-xconf/resourcetype-collection.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/cforms/config/cocoon-xconf/module.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/blog/config/cocoon-xconf/resourcetypes.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/news/config/cocoon-xconf/resourcetype-news.xconf</path>
<path
   action="M">/lenya/trunk/src/modules/usecasedocument/config/cocoon-xconf/resource-type-usecase.xconf</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/ResourceTypeImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/links/config/cocoon-xconf/resource-type-links.xconf</path>
<path
   action="M">/lenya/trunk/src/webapp/readme.xml</path>
</paths>
<msg>resource type configuration cleanup part 2:
&lt;schema src="foo://bar.rng"
language="http://relaxng.org/ns/structure/0.9"/&gt;
becomes
&lt;schema uri="foo://bar.rng"
namespace="http://relaxng.org/ns/structure/0.9"/&gt;

</msg>
</logentry>
<logentry
   revision="565135">
<author>nettings</author>
<date>2007-08-12T20:24:54.614794Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/ResourceTypeImpl.java</path>
</paths>
<msg>whitenoise, reorganized source code.
no functional change.
</msg>
</logentry>
<logentry
   revision="565138">
<author>nettings</author>
<date>2007-08-12T20:32:54.596931Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/tutorials/resourcetype/part1.xml</path>
</paths>
<msg>update resource type tutorial to reflect configuration change


</msg>
</logentry>
<logentry
   revision="565166">
<author>nettings</author>
<date>2007-08-12T21:58:51.179911Z</date>
<paths>
<path
   action="D">/lenya/trunk/src/webapp/lenya/xslt/util/propfind.xsl</path>
</paths>
<msg>removed unused stylesheet from core. it apparently converted the output
of the directory generator to a webDAV propfind reply. the webdav module
implements the same functionality with its webdav.propfind usecase.
</msg>
</logentry>
<logentry
   revision="565260">
<author>nettings</author>
<date>2007-08-13T07:55:41.995117Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/workflow/java/src/org/apache/lenya/workflow/impl/WorkflowBuilder.java</path>
</paths>
<msg>whitenoise, rearranged class properties.
FIXME: what is the "synchronized" attribute in workflow transitions?
looks like dead code, because it's not in the default pub, and the
validation schema does not even mention it...
</msg>
</logentry>
<logentry
   revision="565263">
<author>nettings</author>
<date>2007-08-13T08:08:39.718721Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/targets/webapp-build.xml</path>
<path
   action="D">/lenya/trunk/src/webapp/lenya/resources/entities</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/workflow/workflow.xml</path>
<path
   action="A">/lenya/trunk/src/resources/build/workflow.rng</path>
<path
   action="M">/lenya/trunk/src/webapp/readme.xml</path>
</paths>
<msg>removed unused workflow validation xsd.
ported xsd to rng, it is now applied during build.
this change requires the xsi:schemaLocation attribute to be removed from
custom workflow declarations.
fixes bug http://issues.apache.org/bugzilla/show_bug.cgi?id=42351

</msg>
</logentry>
<logentry
   revision="565310">
<author>nettings</author>
<date>2007-08-13T11:21:20.763113Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/faq.xml</path>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/tutorials/proxy.xml</path>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/reference/publication/publication-templating/index.xml</path>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/reference/modules/index.xml</path>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/reference/publication/configuration.xml</path>
</paths>
<msg>replaced publication.xconf by publication.xml

</msg>
</logentry>
<logentry
   revision="565341">
<author>andreas</author>
<date>2007-08-13T13:21:49.160243Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/linking/LinkResolverImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/linking/LinkResolver.java</path>
</paths>
<msg>Add method to resolve links without providing a start document</msg>
</logentry>
<logentry
   revision="565342">
<author>andreas</author>
<date>2007-08-13T13:22:20.281500Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/cocoon/transformation/UuidToUrlTransformer.java</path>
</paths>
<msg>UuidToUrlTransformer: handle non-document start URLs</msg>
</logentry>
<logentry
   revision="565344">
<author>andreas</author>
<date>2007-08-13T13:22:51.412281Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/xslt/navigation/sitetree2nav.xsl</path>
</paths>
<msg>Provide language parameter in sitetree links to avoid the failing of the UuidToUrlTransformer</msg>
</logentry>
<logentry
   revision="565377">
<author>rfrovarp</author>
<date>2007-08-13T15:36:37.560202Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/fckeditor/java/src/org/apache/lenya/cms/editors/fckeditor/Fckeditor.java</path>
</paths>
<msg>Removed unused variable.
</msg>
</logentry>
<logentry
   revision="565385">
<author>rfrovarp</author>
<date>2007-08-13T15:51:05.939388Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentManagerImpl.java</path>
</paths>
<msg>Removed unused variable.
</msg>
</logentry>
<logentry
   revision="565388">
<author>rfrovarp</author>
<date>2007-08-13T15:56:16.358656Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/util/ServletHelper.java</path>
</paths>
<msg>Fix potential NPE
</msg>
</logentry>
<logentry
   revision="565390">
<author>rfrovarp</author>
<date>2007-08-13T16:00:56.767983Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/ZipSourceFactory.java</path>
</paths>
<msg>Make public static field immutable
</msg>
</logentry>
<logentry
   revision="565435">
<author>rfrovarp</author>
<date>2007-08-13T17:25:28.693929Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/administration/java/src/org/apache/lenya/cms/ac/usecases/DeleteIPRange.java</path>
</paths>
<msg>Cleaned up debugging message. Include name of IP range in error message instead of null.
</msg>
</logentry>
<logentry
   revision="565448">
<author>rfrovarp</author>
<date>2007-08-13T17:30:24.325980Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/components/search/fieldmodel/FieldDefinition.java</path>
</paths>
<msg>Fixed up string equality issues.
</msg>
</logentry>
<logentry
   revision="565504">
<author>rfrovarp</author>
<date>2007-08-13T20:28:41.265813Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/editors/xslt/insertLink.xsl</path>
</paths>
<msg>Cleans up the look of the insert link display. Wraps the form inside of the standard box that is used everywhere else. Also goes back to the side by side layout. Can easily be changed to top to bottom if desired. Most of the changes are formatting as a result of the added divs. Thanks to Jonathan Albers for the help.
</msg>
</logentry>
<logentry
   revision="565519">
<author>rfrovarp</author>
<date>2007-08-13T21:04:04.772682Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/resource/usecases/create-resource.jx</path>
<path
   action="M">/lenya/trunk/src/modules/resource/config/cocoon-xconf/usecase-create-resource.xconf</path>
</paths>
<msg>Now looks like all the other create usecases: no menu, wrapped in the standard usecase template.
</msg>
</logentry>
<logentry
   revision="565524">
<author>rfrovarp</author>
<date>2007-08-13T21:08:54.087667Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/usecase-policies.xml</path>
</paths>
<msg>Allow those with edit permission to cut and copy. They already can create, delete, nudge, and paste.
</msg>
</logentry>
<logentry
   revision="565548">
<author>rfrovarp</author>
<date>2007-08-13T21:51:14.809495Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/workflow/java/src/org/apache/lenya/cms/cocoon/components/modules/input/WorkflowModule.java</path>
</paths>
<msg>DateFormat is NOT thread safe. To be so it must be externally synchronized. I don't see any benefit, so I've just removed the static.
</msg>
</logentry>
<logentry
   revision="565674">
<author>andreas</author>
<date>2007-08-14T09:35:51.996808Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
</paths>
<msg>Re-added newVersion parameter to RCML</msg>
</logentry>
<logentry
   revision="565753">
<author>andreas</author>
<date>2007-08-14T13:46:22.088423Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/PublicationFactory.java</path>
</paths>
<msg>Don't store DocumentFactory instance in PublicationFactory, this seemed to cause trouble (see bug 43110)</msg>
</logentry>
<logentry
   revision="565755">
<author>andreas</author>
<date>2007-08-14T13:48:30.790658Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/PublicationManagerImpl.java</path>
</paths>
<msg>Don't store DocumentFactory instance in PublicationFactory, this seemed to cause trouble (see bug 43110)</msg>
</logentry>
<logentry
   revision="565765">
<author>andreas</author>
<date>2007-08-14T14:06:03.552482Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/LanguageExistsAction.java</path>
</paths>
<msg>LanguageExistsAction: code simplification, javadoc cleanup</msg>
</logentry>
<logentry
   revision="565766">
<author>andreas</author>
<date>2007-08-14T14:09:21.411027Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/PublicationConfiguration.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/NodeFactory.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeFactory.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/RepositoryItem.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/SiteTreeImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree/DefaultSiteTree.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/RepositorySource.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentFactoryImpl.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/PublicationImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/simplesite/java/src/org/apache/lenya/cms/site/simple/DocumentStore.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentImpl.java</path>
</paths>
<msg>Added RepositoryItem.getSession(), removed NodeFactory.setSession()</msg>
</logentry>
<logentry
   revision="565787">
<author>rfrovarp</author>
<date>2007-08-14T14:56:23.338387Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/observation/java/src/org/apache/lenya/cms/observation/ObservationManager.java</path>
</paths>
<msg>Should be start() instead of run(). Unless the code is supposed to run in the current thread, but at that point creating the thread is pointless.
</msg>
</logentry>
<logentry
   revision="565815">
<author>rfrovarp</author>
<date>2007-08-14T15:59:51.379965Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/components/search/Index.java</path>
</paths>
<msg>Now releases lock while waiting for indexer to be released.
</msg>
</logentry>
<logentry
   revision="565823">
<author>rfrovarp</author>
<date>2007-08-14T16:25:29.375752Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/workflow/java/src/org/apache/lenya/cms/cocoon/components/modules/input/WorkflowModule.java</path>
</paths>
<msg>Make sure only one thread is getting to the DateFormat object at a time.
</msg>
</logentry>
<logentry
   revision="565827">
<author>rfrovarp</author>
<date>2007-08-14T16:34:12.117257Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/CredentialImpl.java</path>
</paths>
<msg>Fixed equal objects must have equal hash codes problem.
</msg>
</logentry>
<logentry
   revision="565832">
<author>rfrovarp</author>
<date>2007-08-14T16:46:46.460776Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/transformation/LuceneIndexTransformer2.java</path>
</paths>
<msg>Prevent NPE in final handleError() method.
</msg>
</logentry>
<logentry
   revision="565835">
<author>rfrovarp</author>
<date>2007-08-14T16:56:17.485047Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/collection/java/src/org/apache/lenya/modules/collection/CollectionWrapper.java</path>
</paths>
<msg>getAttributeNS() will never return null. It will return an empty string if the lookup fails, so I believe this is correct. The non-short circuiting or is confusing and I don't see the reason for it here. Change them back if I'm wrong.
</msg>
</logentry>
<logentry
   revision="565858">
<author>rfrovarp</author>
<date>2007-08-14T18:58:48.090776Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/linkcheck/java/src/org/apache/lenya/cms/cocoon/generation/LinkStatusGenerator.java</path>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/components/search/IndexStructure.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Revisions.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Create.java</path>
</paths>
<msg>Removed new String() so that strings can be interned, removed toString() on strings, converted new Boolean to Boolean.valueOf() to use interned value.
</msg>
</logentry>
<logentry
   revision="565859">
<author>rfrovarp</author>
<date>2007-08-14T19:13:02.864315Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/workflow/java/src/org/apache/lenya/cms/workflow/usecases/Deactivate.java</path>
<path
   action="M">/lenya/trunk/src/modules/webdav/java/src/org/apache/lenya/cms/usecases/webdav/Mkcol.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/properties/java/src/org/apache/lenya/cms/cocoon/components/modules/input/PropertiesModule.java</path>
<path
   action="M">/lenya/trunk/src/modules/editors/java/src/org/apache/lenya/cms/editors/forms/FormsEditor.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/templating/java/src/org/apache/lenya/cms/publication/templating/PublicationTemplateManagerImpl.java</path>
</paths>
<msg>Removed unused variables and redundant null checks and imports as necessary.
</msg>
</logentry>
<logentry
   revision="565894">
<author>rfrovarp</author>
<date>2007-08-14T20:09:05.996759Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/observation/java/src/org/apache/lenya/cms/observation/ObservationManager.java</path>
</paths>
<msg>Reverting r565787. Turns out it must run in the current thread for now.
</msg>
</logentry>
<logentry
   revision="566226">
<author>andreas</author>
<date>2007-08-15T15:43:11.695604Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/linking/Link.java</path>
</paths>
<msg>Use StringTokenizer instead of String.split() for performance reasons</msg>
</logentry>
<logentry
   revision="566227">
<author>andreas</author>
<date>2007-08-15T15:44:00.895724Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/linking/LinkResolverImpl.java</path>
</paths>
<msg>Refactoring (performance improvement)</msg>
</logentry>
<logentry
   revision="566245">
<author>andreas</author>
<date>2007-08-15T16:26:55.665544Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/SiteTreeImpl.java</path>
</paths>
<msg>SiteTree: store node factory as field to improve performance</msg>
</logentry>
<logentry
   revision="566248">
<author>andreas</author>
<date>2007-08-15T16:30:23.994133Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/DocumentPolicyManagerWrapper.java</path>
</paths>
<msg>Refactoring, better code readability in document policy manager wrapper</msg>
</logentry>
<logentry
   revision="566250">
<author>andreas</author>
<date>2007-08-15T16:34:09.582261Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/publication/PageEnvelope.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/site/SiteUtil.java</path>
</paths>
<msg>Remove SiteUtil.isDocument()</msg>
</logentry>
<logentry
   revision="566251">
<author>andreas</author>
<date>2007-08-15T16:35:07.311698Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/cache/java/src/org/apache/lenya/ac/cache/SourceCacheImpl.java</path>
</paths>
<msg>Made SourceCache ThreadSafe</msg>
</logentry>
<logentry
   revision="566255">
<author>andreas</author>
<date>2007-08-15T16:41:50.996920Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/util/Query.java</path>
</paths>
<msg>Replaced String.split() by StringTokenizer (performance)</msg>
</logentry>
<logentry
   revision="566256">
<author>andreas</author>
<date>2007-08-15T16:42:29.740340Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/SiteSource.java</path>
</paths>
<msg>[minor change] javadoc fix</msg>
</logentry>
<logentry
   revision="566334">
<author>andreas</author>
<date>2007-08-15T20:44:33.905566Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeMetaData.java</path>
</paths>
<msg>Check meta data key only if no values exist (performance)</msg>
</logentry>
<logentry
   revision="567073">
<author>rfrovarp</author>
<date>2007-08-17T15:56:40.262704Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/fckeditor/resources/javascript/fckconfig.js</path>
</paths>
<msg>fixed typo in comment</msg>
</logentry>
<logentry
   revision="567439">
<author>andreas</author>
<date>2007-08-19T17:29:37.400514Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/ForceCheckIn.java</path>
</paths>
<msg>Avoid exception in ForceCheckIn.prepareView()</msg>
</logentry>
<logentry
   revision="567440">
<author>andreas</author>
<date>2007-08-19T17:30:12.680297Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/webdav/webdav.js</path>
</paths>
<msg>Consider preconditions when advancing usecase state in webdav.js (avoid state machine exceptions)</msg>
</logentry>
<logentry
   revision="567462">
<author>andreas</author>
<date>2007-08-19T20:31:38.651404Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/transaction/Versionable.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/rc/RCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/fckeditor/config/cocoon-xconf/usecases-edit-fckeditor.xconf</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/bxe/config/cocoon-xconf/usecase-bxe.xconf</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/Node.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ReservedCheckinAction.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ReservedCheckoutAction.java</path>
</paths>
<msg>Added workaround for usecases which can't use the same session for check-in and check-out (BXE, FCKeditor): Allow to check-out a node without the restriction to the same session. See bug 43157.</msg>
</logentry>
<logentry
   revision="567467">
<author>andreas</author>
<date>2007-08-19T21:00:42.027950Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/kupu/config/cocoon-xconf/usecase-kupu.xconf</path>
</paths>
<msg>Don't restrict kupu check-out to session</msg>
</logentry>
<logentry
   revision="567473">
<author>andreas</author>
<date>2007-08-19T21:12:37.737290Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/java/src/org/apache/lenya/defaultpub/cms/publication/templating/Instantiator.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/PublicationAccessControllerResolver.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/publication/PublicationManager.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/PublicationManagerImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/components/modules/input/AbstractPageEnvelopeModule.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentFactoryImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/AggregatingFallbackSourceFactory.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/FallbackSourceFactory.java</path>
</paths>
<msg>Made publication manager more efficient and correct (avoid invalid publication objects)</msg>
</logentry>
<logentry
   revision="567475">
<author>andreas</author>
<date>2007-08-19T21:23:45.133163Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/module/ModuleManagerImpl.java</path>
</paths>
<msg>Module manager: compute file URI at startup and not on demand for better performance</msg>
</logentry>
<logentry
   revision="567476">
<author>andreas</author>
<date>2007-08-19T21:25:02.562415Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/AreaImpl.java</path>
</paths>
<msg>Store site structure in area object for better performance</msg>
</logentry>
<logentry
   revision="567477">
<author>andreas</author>
<date>2007-08-19T21:29:12.839009Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/FallbackSourceFactory.java</path>
</paths>
<msg>Removed execution time check from FallbackSourceFactory (GregorianCalendar is expensive)</msg>
</logentry>
<logentry
   revision="567479">
<author>andreas</author>
<date>2007-08-19T21:34:14.359482Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/util/Query.java</path>
</paths>
<msg>Performance optimization in Query class</msg>
</logentry>
<logentry
   revision="567480">
<author>andreas</author>
<date>2007-08-19T21:37:56.694824Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/templating/java/src/org/apache/lenya/cms/publication/templating/PublicationTemplateManagerImpl.java</path>
</paths>
<msg>PublicationTemplateManager: use file path instead of context:// path (less expensive)</msg>
</logentry>
<logentry
   revision="567484">
<author>andreas</author>
<date>2007-08-19T21:45:47.080013Z</date>
<paths>
<path
   action="A">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/cocoon/acting/SslRedirectAction.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/cocoon/components/modules/input/ProxyModule.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/cocoon/transformation/UuidToUrlTransformer.java</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/config/sitemap/pipelines.xmap</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/module.xml</path>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/linking/OutgoingLinkRewriter.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/config/sitemap/actions.xmap</path>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/cocoon/transformation/AbstractLinkTransformer.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/cocoon/transformation/ProxyTransformer.java</path>
</paths>
<msg>Moving SSL handling from OutgoingLinkRewriter to SslRedirectAction (much better performance)</msg>
</logentry>
<logentry
   revision="567489">
<author>andreas</author>
<date>2007-08-19T22:09:29.060621Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/cocoon/acting/SslRedirectAction.java</path>
</paths>
<msg>Made SslRedirectAction work with non-access-controller URLs</msg>
</logentry>
<logentry
   revision="567495">
<author>andreas</author>
<date>2007-08-19T22:37:59.505561Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/SessionImpl.java</path>
</paths>
<msg>Don't create session UUID for immutable sessions</msg>
</logentry>
<logentry
   revision="567518">
<author>rfrovarp</author>
<date>2007-08-20T01:15:27.012877Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/ForceCheckIn.java</path>
</paths>
<msg>Prevent NPE. Not sure how it happened, but I did get a null identity.
</msg>
</logentry>
<logentry
   revision="567644">
<author>andreas</author>
<date>2007-08-20T10:30:20.770847Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/editors/java/src/org/apache/lenya/cms/editors/InsertAsset.java</path>
</paths>
<msg>Updated InsertAsset to new OutgoingLinkRewriter constructor</msg>
</logentry>
<logentry
   revision="567725">
<author>andreas</author>
<date>2007-08-20T15:10:20.565259Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/PublicationFactory.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeFactory.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree/DefaultSiteTree.java</path>
<path
   action="A">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/DelegatingSiteTree.java</path>
<path
   action="A">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/DelegatingNode.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentFactoryImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/SessionImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/SiteTreeFactory.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/RepositoryItemFactory.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/TreeSiteManager.java</path>
<path
   action="A">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/DelegatingLink.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree/SiteTree.java</path>
</paths>
<msg>Use SharedItemStore specifically for the site tree. This avoids the problem that the SharedItemStore is filled with Document and other objects. The DelegatingSiteTree can be shared.</msg>
</logentry>
<logentry
   revision="567726">
<author>andreas</author>
<date>2007-08-20T15:11:53.064936Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/components/search/components/impl/IndexManagerImpl.java</path>
</paths>
<msg>[minor change] removed invalid catch block</msg>
</logentry>
<logentry
   revision="567737">
<author>andreas</author>
<date>2007-08-20T16:09:55.654926Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/DelegatingNode.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/TreeSiteManager.java</path>
</paths>
<msg>Fixed class cast problems with delegating sitetree</msg>
</logentry>
<logentry
   revision="568030">
<author>andreas</author>
<date>2007-08-21T09:06:57.560548Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ReservedCheckinAction.java</path>
</paths>
<msg>Use modifiable session in ReservedCheckinAction (fixes bug 43157)</msg>
</logentry>
<logentry
   revision="568041">
<author>andreas</author>
<date>2007-08-21T09:47:23.774153Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/components/modules/input/PageEnvelopeModule.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/cms/ac/PublicationAccessControllerResolver.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/publication/DocumentFactory.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/components/modules/input/AbstractPageEnvelopeModule.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentFactoryImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/impl/UsecaseResolverImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/publication/PageEnvelope.java</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/i18n.xmap</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/AggregatingFallbackSourceFactory.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/FallbackSourceFactory.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/templating/java/src/org/apache/lenya/cms/publication/usecases/CreatePublicationFromTemplate.java</path>
</paths>
<msg>Added DocumentFactory.existsPublication(id) for simplicity, fixed publication handling in i18n (fixes bug 43171)</msg>
</logentry>
<logentry
   revision="568149">
<author>michi</author>
<date>2007-08-21T14:45:13.108254Z</date>
<paths>
<path
   action="M">/lenya/branches/BRANCH_1_2_X/INSTALL-SRC.txt</path>
</paths>
<msg>link and typo fixed</msg>
</logentry>
<logentry
   revision="568169">
<author>andreas</author>
<date>2007-08-21T15:38:50.463828Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
</paths>
<msg>[minor change] added some javadocs</msg>
</logentry>
<logentry
   revision="568171">
<author>andreas</author>
<date>2007-08-21T15:43:00.363070Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/gui/impl/GUIManagerImpl.java</path>
</paths>
<msg>[minor change] removed unused field</msg>
</logentry>
<logentry
   revision="568269">
<author>andreas</author>
<date>2007-08-21T20:46:55.140808Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/cocoon/transformation/UuidToUrlTransformer.java</path>
</paths>
<msg>UuidToUrlTransformer: lookup document extension only if necessary (expensive)</msg>
</logentry>
<logentry
   revision="568271">
<author>andreas</author>
<date>2007-08-21T20:49:18.718232Z</date>
<paths>
<path
   action="A">/lenya/trunk/src/java/org/apache/lenya/cms/repository/Persistable.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/Usecase.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/TreeNodeImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/xslt/navigation/sitetree2nav.xsl</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree/SiteTreeNodeImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/Node.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree/TreeSiteManager.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/test/org/apache/lenya/cms/site/tree/DefaultSiteTreeTest.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/ModifiableMetaDataHandler.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/usecases.js</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/SiteTreeImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree/DefaultSiteTree.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/DelegatingSiteTree.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/SessionImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/TreeSiteManager.java</path>
</paths>
<msg>Introduce Persistable interface. This allows to save complex objects (meta data, site tree) only once before the session is committed. Optimistic usecases lock their nodes before the usecase is executed (see bug 43136).</msg>
</logentry>
<logentry
   revision="568314">
<author>andreas</author>
<date>2007-08-21T22:37:47.040825Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/xslt/navigation/sitetree2nav.xsl</path>
</paths>
<msg>Use default extension 'html' to avoid extension lookup for each document (expensive)</msg>
</logentry>
<logentry
   revision="568315">
<author>andreas</author>
<date>2007-08-21T22:38:21.621448Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/languageselector/sitemap.xmap</path>
</paths>
<msg>Set expiration to 2 hours for language-selector SVG images to reduce server load</msg>
</logentry>
<logentry
   revision="568539">
<author>andreas</author>
<date>2007-08-22T10:13:42.160998Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/resources/icons/default.gif</path>
<path
   action="M">/lenya/trunk/src/modules/xhtml/resources/icons/xhtml.gif</path>
</paths>
<msg>Use transparent background for sitetree icons</msg>
</logentry>
<logentry
   revision="568540">
<author>andreas</author>
<date>2007-08-22T10:14:02.088923Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/usecases.js</path>
</paths>
<msg>Fixed execution order in usecases flowscript</msg>
</logentry>
<logentry
   revision="568541">
<author>andreas</author>
<date>2007-08-22T10:19:29.115881Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/webapp/lenya/xslt/menu/filter-menu.xsl</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/xslt/menu/merge-menus.xsl</path>
</paths>
<msg>[minor change] removed unused namespace declarations</msg>
</logentry>
<logentry
   revision="568636">
<author>andreas</author>
<date>2007-08-22T14:54:40.148818Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/webapp/global-sitemap.xmap</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/resources/css/menu.css</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/xslt/menu/menu2xslt.xsl</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/xslt/menu/menu2xhtml.xsl</path>
</paths>
<msg>Prepare core for Ajax menu</msg>
</logentry>
<logentry
   revision="568637">
<author>andreas</author>
<date>2007-08-22T14:55:36.722498Z</date>
<paths>
<path
   action="A">/lenya/trunk/src/modules/menubar/resources/images</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/resources/images/indicator.gif</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/resources/javascript/loadmenu.js</path>
<path
   action="A">/lenya/trunk/src/modules/menubar</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/resources/javascript</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/xslt/menu2xslt-ajax.xsl</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/config</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/sitemap.xmap</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/xslt/convertMessages.xsl</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/config/module.xml</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/resources</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/xslt</path>
</paths>
<msg>Added menu module, e.g. for asynchronous menu loading</msg>
</logentry>
<logentry
   revision="568662">
<author>rfrovarp</author>
<date>2007-08-22T15:48:18.848459Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/administration/java/src/org/apache/lenya/cms/ac/usecases/AddUser.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/UserAuthenticator.java</path>
<path
   action="M">/lenya/trunk/src/webapp/readme.xml</path>
</paths>
<msg>Make user names case insensitive. Fixes bug 41848.
</msg>
</logentry>
<logentry
   revision="568678">
<author>andreas</author>
<date>2007-08-22T16:12:12.772963Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/CreateDocument.java</path>
</paths>
<msg>Always strip spaces from node name in create usecase.</msg>
</logentry>
<logentry
   revision="568679">
<author>andreas</author>
<date>2007-08-22T16:12:45.017451Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
</paths>
<msg>Fixed usecase state machine transition (fixes bug 43185).</msg>
</logentry>
<logentry
   revision="568681">
<author>andreas</author>
<date>2007-08-22T16:16:00.971790Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/menubar/resources/javascript/loadmenu.js</path>
</paths>
<msg>Don't alert error messages when loading the menu</msg>
</logentry>
<logentry
   revision="568857">
<author>thorsten</author>
<date>2007-08-23T07:13:50.418541Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/properties/java/src/org/apache/lenya/cms/cocoon/components/modules/input/PropertiesModule.java</path>
</paths>
<msg>Bug 42558
lenya.properties.xml per publication. Patch submitted by Markus Angst. Thank you very much Markus.
Additional added logging in an empty catch.</msg>
</logentry>
<logentry
   revision="568859">
<author>thorsten</author>
<date>2007-08-23T07:14:38.787825Z</date>
<paths>
<path
   action="A">/lenya/trunk/src/pubs/default/lenya.properties.xml</path>
</paths>
<msg>Bug 42558
lenya.properties.xml per publication. Patch submitted by Markus Angst. Thank you very much Markus.
Adding example to the default pub.</msg>
</logentry>
<logentry
   revision="568889">
<author>jann</author>
<date>2007-08-23T08:48:48.893321Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/menubar/xslt/menu2xslt-ajax.xsl</path>
<path
   action="M">/lenya/trunk/src/modules/menubar/sitemap.xmap</path>
</paths>
<msg>Adding context prefix to MENU_URL. Otherwise it will not work if you use lenya with tomcat in a non ROOT context</msg>
</logentry>
<logentry
   revision="568899">
<author>thorsten</author>
<date>2007-08-23T09:11:45.677094Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/modules/properties/index.xml</path>
</paths>
<msg>Adding some documentation about the properties module</msg>
</logentry>
<logentry
   revision="568900">
<author>thorsten</author>
<date>2007-08-23T09:13:06.112255Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/faq.xml</path>
</paths>
<msg>using unique ids</msg>
</logentry>
<logentry
   revision="568911">
<author>thorsten</author>
<date>2007-08-23T09:51:17.801747Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/modules/properties/index.xml</path>
</paths>
<msg>Adding documentation about the properties module</msg>
</logentry>
<logentry
   revision="568927">
<author>thorsten</author>
<date>2007-08-23T10:49:41.280546Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/faq.xml</path>
</paths>
<msg>Fixing unique id. Thanks forrestbot.</msg>
</logentry>
<logentry
   revision="568933">
<author>andreas</author>
<date>2007-08-23T11:13:24.319087Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/menubar/resources/javascript/loadmenu.js</path>
<path
   action="A">/lenya/trunk/src/webapp/lenya/xslt/menu/menubar2xhtml.xsl</path>
<path
   action="M">/lenya/trunk/src/modules/menubar/xslt/menu2xslt-ajax.xsl</path>
<path
   action="M">/lenya/trunk/src/webapp/global-sitemap.xmap</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/xslt/selectSingleMenu.xsl</path>
<path
   action="M">/lenya/trunk/src/modules/menubar/sitemap.xmap</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/xslt/menu/menu2xhtml.xsl</path>
<path
   action="A">/lenya/trunk/src/modules/menubar/xslt/emptyMenu.xml</path>
</paths>
<msg>Improved Ajax menubar generation (load single menus on demand)</msg>
</logentry>
<logentry
   revision="569157">
<author>nettings</author>
<date>2007-08-23T21:45:32.111316Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/sitemap.xmap</path>
</paths>
<msg>added comment about disabling prettyprinting in production

</msg>
</logentry>
<logentry
   revision="569161">
<author>nettings</author>
<date>2007-08-23T21:51:03.287840Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/tutorials/production.xml</path>
</paths>
<msg>added hint about disabling XML prettyprinting
</msg>
</logentry>
<logentry
   revision="569173">
<author>thorsten</author>
<date>2007-08-23T22:19:22.475486Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/svn-log/tlp-HEAD.svn.xml</path>
<path
   action="A">/lenya/docu/src/documentation/content/svn-log/tlp-2007-07.svn.xml</path>
<path
   action="M">/lenya/docu/SVN-HEAD-REV.txt</path>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/site.xml</path>
</paths>
<msg>Updating changes pages</msg>
</logentry>
<logentry
   revision="569184">
<author>thorsten</author>
<date>2007-08-23T23:29:35.646530Z</date>
<paths>
<path
   action="M">/lenya/site/docs/modules/fckeditor/index.html</path>
<path
   action="M">/lenya/site/docs/modules/news/index.html</path>
<path
   action="M">/lenya/site/docs/modules/bxe/index.html</path>
<path
   action="M">/lenya/site/incubator-2002-08-09.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/kupu/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/lenya-sitemaps.pdf</path>
<path
   action="M">/lenya/site/docs/2_0_x/installation/subversion.html</path>
<path
   action="M">/lenya/site/history.html</path>
<path
   action="M">/lenya/site/docs/modules/collection/index.html</path>
<path
   action="M">/lenya/site/docs/modules/xhtml/index.html</path>
<path
   action="M">/lenya/site/incubator-2003-09.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/properties/index.html</path>
<path
   action="M">/lenya/site/tlp-2005-01.svn.html</path>
<path
   action="M">/lenya/site/tlp-2007-01.svn.html</path>
<path
   action="A">/lenya/site/docs/2_0_x/reference/protocols/lenya-document.pdf</path>
<path
   action="M">/lenya/site/tlp-2006-05.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/janitor/index.html</path>
<path
   action="M">/lenya/site/tlp-2005-09.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/tinymce/index.html</path>
<path
   action="M">/lenya/site/docs/modules/webdav/webdav.html</path>
<path
   action="M">/lenya/site/docs/modules/editors/index.html</path>
<path
   action="M">/lenya/site/docs/modules/links/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/tests.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/protocols/index.html</path>
<path
   action="M">/lenya/site/incubator-2003-10.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/webdav/monitoring.html</path>
<path
   action="M">/lenya/site/docs/modules/notification/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/bestpractises.html</path>
<path
   action="M">/lenya/site/docs/modules/profiling/index.html</path>
<path
   action="M">/lenya/site/tlp-HEAD.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/lenyadoc/index.html</path>
<path
   action="M">/lenya/site/tlp-2005-10.svn.html</path>
<path
   action="M">/lenya/site/tlp-2005-02.svn.html</path>
<path
   action="M">/lenya/site/docs/release.html</path>
<path
   action="M">/lenya/site/tlp-2007-02.svn.html</path>
<path
   action="M">/lenya/site/tlp-2006-06.svn.html</path>
<path
   action="M">/lenya/site/incubator-2002-05-07.svn.html</path>
<path
   action="A">/lenya/site/tlp-2007-07.svn.pdf</path>
<path
   action="M">/lenya/site/docs/modules/contactform/index.html</path>
<path
   action="M">/lenya/site/docs/modules/export/index.html</path>
<path
   action="M">/lenya/site/incubator-2003-03.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/protocols/index.pdf</path>
<path
   action="M">/lenya/site/docs/modules/usecasedocument/index.html</path>
<path
   action="M">/lenya/site/docs/modules/usecase/index.html</path>
<path
   action="M">/lenya/site/docs/modules/neutron/index.html</path>
<path
   action="M">/lenya/site/docs/modules/linking/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/installation/index.html</path>
<path
   action="M">/lenya/site/tlp-2005-11.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/resourcetype/part4.html</path>
<path
   action="M">/lenya/site/tlp-2005-03.svn.html</path>
<path
   action="M">/lenya/site/tlp-2007-03.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/proxy.pdf</path>
<path
   action="M">/lenya/site/incubator-2003-11-12.svn.html</path>
<path
   action="M">/lenya/site/docs/release.pdf</path>
<path
   action="M">/lenya/site/tlp-2006-07.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/webdav/index.html</path>
<path
   action="M">/lenya/site/incubator-2004-07-10.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/workflow/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/publication/configuration.pdf</path>
<path
   action="M">/lenya/site/incubator-2004-04-06.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/tinymce/index.pdf</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/protocols/site.pdf</path>
<path
   action="M">/lenya/site/docs/modules/administration/index.html</path>
<path
   action="M">/lenya/site/who.html</path>
<path
   action="M">/lenya/site/incubator-2003-04.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/concepts/wysiwyg.html</path>
<path
   action="M">/lenya/site/linkmap.pdf</path>
<path
   action="M">/lenya/site/docs/modules/linkcheck/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/faq.html</path>
<path
   action="M">/lenya/site/tlp-HEAD.svn-sh.xml</path>
<path
   action="M">/lenya/site/tlp-2005-12.svn.html</path>
<path
   action="M">/lenya/site/tlp-2005-04.svn.html</path>
<path
   action="M">/lenya/site/incubator-2003-01-02.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/cache/index.html</path>
<path
   action="M">/lenya/site/tlp-2007-04.svn.html</path>
<path
   action="M">/lenya/site/incubator-2004-01-03.svn.html</path>
<path
   action="M">/lenya/site/tlp-2006-08.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/newpublication/index.html</path>
<path
   action="M">/lenya/site/docs/modules/xopus/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/concepts/publication.html</path>
<path
   action="M">/lenya/site/docs/modules/svg/resizeimages.html</path>
<path
   action="M">/lenya/site/docs/modules/acusecases/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/usecase-framework/abstractusecase.html</path>
<path
   action="M">/lenya/site/docs/modules/resource/index.html</path>
<path
   action="M">/lenya/site/incubator-2003-05.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/observation/index.html</path>
<path
   action="A">/lenya/site/docs/2_0_x/reference/protocols/lenya-document.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/index.html</path>
<path
   action="M">/lenya/site/tlp-2006-01.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/sourcerepository/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/link-management.pdf</path>
<path
   action="M">/lenya/site/tlp-2005-05.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/urlMapping.html</path>
<path
   action="M">/lenya/site/tlp-2007-05.svn.html</path>
<path
   action="M">/lenya/site/tlp-2006-09.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/protocols/lenyadoc.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/modules/index.pdf</path>
<path
   action="M">/lenya/site/svn-log/tlp-HEAD.svn.xml</path>
<path
   action="M">/lenya/site/docs/modules/ldap/index.html</path>
<path
   action="M">/lenya/site/docs/modules/development/index.html</path>
<path
   action="M">/lenya/site/docs/modules/ac/index.html</path>
<path
   action="M">/lenya/site/linkmap.html</path>
<path
   action="M">/lenya/site/tlp-HEAD.svn-revision.xml</path>
<path
   action="M">/lenya/site/incubator-2003-06.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/cforms/index.html</path>
<path
   action="M">/lenya/site/screenshots.html</path>
<path
   action="A">/lenya/site/images/live/resourcetype/resourceTypeFormats.png</path>
<path
   action="M">/lenya/site/related-projects.html</path>
<path
   action="M">/lenya/site/docs/modules/opendocument/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/resourcetype/part3.html</path>
<path
   action="M">/lenya/site/tlp-2006-10.svn.html</path>
<path
   action="M">/lenya/site/tlp-2006-02.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/templating/index.html</path>
<path
   action="M">/lenya/site/tlp-2005-06.svn.html</path>
<path
   action="M">/lenya/site/tlp-2007-06.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/concepts/documents.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/production.pdf</path>
<path
   action="M">/lenya/site/license.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/repository/index.html</path>
<path
   action="M">/lenya/site/roadmap.html</path>
<path
   action="M">/lenya/site/docs/modules/simplesite/index.html</path>
<path
   action="M">/lenya/site/docs/modules/lucene/index.pdf</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/publication/publication-templating/index.html</path>
<path
   action="M">/lenya/site/docs/modules/blog/index.html</path>
<path
   action="M">/lenya/site/docs/modules/svg/roundedcorners.html</path>
<path
   action="M">/lenya/site/docs/modules/sitetree/index.html</path>
<path
   action="A">/lenya/site/svn-log/tlp-2007-07.svn.xml</path>
<path
   action="M">/lenya/site/incubator-2003-07.svn.html</path>
<path
   action="M">/lenya/site/tlp-2004-11.svn.html</path>
<path
   action="M">/lenya/site/index.html</path>
<path
   action="M">/lenya/site/docs/modules/sitemanagement/index.html</path>
<path
   action="M">/lenya/site/tlp-2006-11.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/properties/index.pdf</path>
<path
   action="M">/lenya/site/tlp-2006-03.svn.html</path>
<path
   action="M">/lenya/site/incubator-2002-01-04.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/faq.pdf</path>
<path
   action="M">/lenya/site/tlp-2005-07.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/publication/configuration.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/metadata.html</path>
<path
   action="A">/lenya/site/tlp-2007-07.svn.html</path>
<path
   action="M">/lenya/site/docs/modules/lucene/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/protocols/lenyadoc.pdf</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/protocols/site.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/usecase-framework/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/lenya-sitemaps.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/protocols/lenya.html</path>
<path
   action="M">/lenya/site/docs/modules/languageselector/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/concepts/authoring_live.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/publication/publication-templating/index.pdf</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/protocols/lenya.pdf</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/mod_proxy_ajp.html</path>
<path
   action="M">/lenya/site/docs/modules/migration/index.html</path>
<path
   action="M">/lenya/site/incubator-2003-08.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/link-management.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/proxy.html</path>
<path
   action="M">/lenya/site/tlp-2004-12.svn.html</path>
<path
   action="M">/lenya/site/tlp-HEAD.svn.pdf</path>
<path
   action="M">/lenya/site/docs/modules/prettyprinting/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/resourcetype/part5.html</path>
<path
   action="M">/lenya/site/tlp-2006-12.svn.html</path>
<path
   action="M">/lenya/site/tlp-2006-04.svn.html</path>
<path
   action="M">/lenya/site/incubator-2002-10-12.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/production.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/modules/index.html</path>
<path
   action="M">/lenya/site/tlp-2005-08.svn.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/tutorials/setupide/index.html</path>
<path
   action="M">/lenya/site/docs/2_0_x/reference/ac.html</path>
</paths>
<msg>Publish from forrestbot</msg>
</logentry>
<logentry
   revision="569341">
<author>andreas</author>
<date>2007-08-24T10:47:38.574533Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/generation/LenyaMetaDataGenerator.java</path>
<path
   action="M">/lenya/trunk/src/pubs/default/sitemap.xmap</path>
<path
   action="M">/lenya/trunk/src/modules/resource/sitemap.xmap</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentFactoryImpl.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/AreaImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/workflow/DocumentWorkflowable.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/linking/LinkResolverImpl.java</path>
<path
   action="M">/lenya/trunk/src/modules/resource/xslt/common/mimetype.xsl</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/components/modules/input/DocumentInfoModule.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceWrapper.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/publication/DocumentFactory.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/RepositorySource.java</path>
<path
   action="M">/lenya/trunk/src/modules/resource/xslt/resource2xhtml.xsl</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeMetaDataHandler.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/publication/Document.java</path>
</paths>
<msg>Add revision number to Document interface, added revision handling to LenyaMetaDataTransformer and DocumentInfoModule. This fixes bug 42932.</msg>
</logentry>
<logentry
   revision="569342">
<author>andreas</author>
<date>2007-08-24T10:48:00.049405Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/svg/sitemap.xmap</path>
<path
   action="M">/lenya/trunk/src/modules/svg/xslt/scale.xsl</path>
</paths>
<msg>Added revision handling to SVG image resizing.</msg>
</logentry>
<logentry
   revision="569343">
<author>andreas</author>
<date>2007-08-24T10:49:14.266955Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/resource/sitemap.xmap</path>
</paths>
<msg>[minor change] removed dead code</msg>
</logentry>
<logentry
   revision="569344">
<author>andreas</author>
<date>2007-08-24T10:52:16.349325Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/resource/sitemap.xmap</path>
</paths>
<msg>[minor change] removed outdated fixme comment</msg>
</logentry>
<logentry
   revision="569366">
<author>andreas</author>
<date>2007-08-24T12:45:43.811659Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/collection/sitemap.xmap</path>
</paths>
<msg>Updating collection sitemap to new LenyaMetaDataGenerator syntax</msg>
</logentry>
<logentry
   revision="569367">
<author>andreas</author>
<date>2007-08-24T12:46:15.802511Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/sitemap.xmap</path>
</paths>
<msg>Updating default pub sitemap to new LenyaMetaDataGenerator syntax</msg>
</logentry>
<logentry
   revision="569373">
<author>andreas</author>
<date>2007-08-24T13:17:06.225829Z</date>
<paths>
<path
   action="A">/lenya/trunk/src/modules/development/config/sitemap</path>
<path
   action="A">/lenya/trunk/src/modules/development/test/jmeter/simpleLoad.jmx</path>
<path
   action="A">/lenya/trunk/src/modules/development/config/sitemap/transformers.xmap</path>
</paths>
<msg>Added tee transformer and simple load test to development module</msg>
</logentry>
<logentry
   revision="569420">
<author>andreas</author>
<date>2007-08-24T15:28:42.126001Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/sitemap.xmap</path>
</paths>
<msg>[minor change] fixed sitemap parameter, improved comments</msg>
</logentry>
<logentry
   revision="569442">
<author>andreas</author>
<date>2007-08-24T16:19:04.110753Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/webapp/global-sitemap.xmap</path>
</paths>
<msg>Removed fallback:// for publication-does-not-exist.jx (makes no sense)</msg>
</logentry>
<logentry
   revision="570146">
<author>andreas</author>
<date>2007-08-27T14:49:47.423399Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/components/modules/input/PageEnvelopeModule.java</path>
</paths>
<msg>Avoid NPE in PageEnvelopeModule for non-publication URLs</msg>
</logentry>
<logentry
   revision="570151">
<author>andreas</author>
<date>2007-08-27T15:09:07.254509Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/acting/ResourceExistsAction.java</path>
</paths>
<msg>Replaced file handling in ResourceExistsAction with TraversableSource handling</msg>
</logentry>
<logentry
   revision="570390">
<author>andreas</author>
<date>2007-08-28T11:53:23.355660Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/xhtml/sitemap.xmap</path>
</paths>
<msg>Fixed meta data generator call</msg>
</logentry>
<logentry
   revision="570392">
<author>andreas</author>
<date>2007-08-28T11:54:45.102033Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentImpl.java</path>
</paths>
<msg>Fixed revision writability check in DocumentImpl</msg>
</logentry>
<logentry
   revision="570467">
<author>andreas</author>
<date>2007-08-28T16:07:28.635464Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/webapp/global-sitemap.xmap</path>
</paths>
<msg>Performance optimization: re-arranged pipelines in global-sitemap.xmap</msg>
</logentry>
<logentry
   revision="570469">
<author>andreas</author>
<date>2007-08-28T16:18:31.521321Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/webapp/global-sitemap.xmap</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/lenya.xmap</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/resources.xmap</path>
<path
   action="M">/lenya/trunk/src/webapp/lenya/resources-shared.xmap</path>
<path
   action="M">/lenya/trunk/src/modules/svg/sitemap.xmap</path>
</paths>
<msg>Use global parameter for pipeline expiration</msg>
</logentry>
<logentry
   revision="570475">
<author>andreas</author>
<date>2007-08-28T16:22:27.863793Z</date>
<paths>
<path
   action="M">/lenya/docu/src/documentation/content/xdocs/docs/2_0_x/tutorials/production.xml</path>
</paths>
<msg>Added hint about client-side caching to performance guide</msg>
</logentry>
<logentry
   revision="570749">
<author>andreas</author>
<date>2007-08-29T10:46:36.582823Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/linking/java/src/org/apache/lenya/cms/cocoon/source/DocumentSourceFactory.java</path>
</paths>
<msg>Avoid exception for lenya-document URLs on non-document URLs (fixes bug 43227).</msg>
</logentry>
<logentry
   revision="570759">
<author>andreas</author>
<date>2007-08-29T11:32:05.651111Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/transaction/UnitOfWorkImpl.java</path>
</paths>
<msg>Move check-in of nodes to finally block to avoid stale checked-in nodes (see bug 43163)</msg>
</logentry>
<logentry
   revision="570775">
<author>andreas</author>
<date>2007-08-29T12:14:48.935768Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNodeRCML.java</path>
</paths>
<msg>Clear source node RCML entries when deleting. Otherwise, the last check-in entry will keep active. See bug 43163 for more information.</msg>
</logentry>
<logentry
   revision="570776">
<author>andreas</author>
<date>2007-08-29T12:15:27.900100Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/xhtml/sitemap.xmap</path>
</paths>
<msg>Replaced lenyadoc URL with lenya-document URL</msg>
</logentry>
<logentry
   revision="570795">
<author>andreas</author>
<date>2007-08-29T12:56:24.849352Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/xhtml/sitemap.xmap</path>
</paths>
<msg>Fixed lenya-document URL (removed trailing slash)</msg>
</logentry>
<logentry
   revision="570864">
<author>andreas</author>
<date>2007-08-29T17:06:42.978111Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/repository/AxisUUIDGenerator.java</path>
</paths>
<msg>Mark AxisUUIDGenerator as ThreadSafe</msg>
</logentry>
<logentry
   revision="570866">
<author>andreas</author>
<date>2007-08-29T17:07:40.830155Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/repository/AxisUUIDGenerator.java</path>
</paths>
<msg>Mark AxisUUIDGenerator as ThreadSafe</msg>
</logentry>
<logentry
   revision="570872">
<author>andreas</author>
<date>2007-08-29T17:27:56.311440Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/repository/AxisUUIDGenerator.java</path>
</paths>
<msg>[minor change] refactoring - extract field</msg>
</logentry>
<logentry
   revision="570909">
<author>rfrovarp</author>
<date>2007-08-29T19:39:25.698361Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/fckeditor/resources/javascript/fckconfig.js</path>
</paths>
<msg>Disable browsing button in built in image and link windows since we now use plugins.
</msg>
</logentry>
<logentry
   revision="570920">
<author>andreas</author>
<date>2007-08-29T20:23:50.679589Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceWrapper.java</path>
</paths>
<msg>Put simple object instead of source wrapper in sourceUris map. This avoids a memory leak. See bug 43240.</msg>
</logentry>
<logentry
   revision="570957">
<author>andreas</author>
<date>2007-08-29T22:31:41.619402Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/test/org/apache/lenya/cms/publication/DefaultDocumentTest.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/observation/java/src/org/apache/lenya/cms/observation/ObservationManager.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentFactoryImpl.java</path>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/DocumentImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/publication/DocumentIdentifier.java</path>
</paths>
<msg>Store publication ID instead of publication object in DocumentIdentifier. See bug 43240.</msg>
</logentry>
<logentry
   revision="571137">
<author>andreas</author>
<date>2007-08-30T12:38:03.706336Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/publication/DocumentLocator.java</path>
</paths>
<msg>Avoid returning null-value DocumentLocator objects</msg>
</logentry>
<logentry
   revision="571280">
<author>rfrovarp</author>
<date>2007-08-30T19:35:18.032635Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/resource/java/src/org/apache/lenya/cms/publication/ResourceWrapper.java</path>
</paths>
<msg>Translate image/pjpeg to image/jpeg for purposes of reading image dimensions. Fixes bug 43245.
</msg>
</logentry>
<logentry
   revision="571429">
<author>andreas</author>
<date>2007-08-31T10:55:51.362994Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceWrapper.java</path>
<path
   action="M">/lenya/trunk/src/modules/sourcerepository/java/src/org/apache/lenya/cms/repository/SourceNode.java</path>
</paths>
<msg>Added check to SourceNode if it was loaded when it is locked. This can help to uncover situations where the repository might become corrupted. See bug 43136, comment #18.</msg>
</logentry>
<logentry
   revision="571466">
<author>rfrovarp</author>
<date>2007-08-31T13:57:06.991409Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/site/tree2/SiteTreeImpl.java</path>
</paths>
<msg>Fixed possible synchronization issue with loading and lastModified
</msg>
</logentry>
<logentry
   revision="571470">
<author>rfrovarp</author>
<date>2007-08-31T14:04:03.235748Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/impl/java/org/apache/lenya/cms/publication/PublicationManagerImpl.java</path>
</paths>
<msg>Fixed possible NPE.
</msg>
</logentry>
<logentry
   revision="571475">
<author>rfrovarp</author>
<date>2007-08-31T14:13:27.494530Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/repository/SessionImpl.java</path>
</paths>
<msg>Synchronize access to committed.
</msg>
</logentry>
<logentry
   revision="571481">
<author>rfrovarp</author>
<date>2007-08-31T14:38:12.177540Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/administration/java/src/org/apache/lenya/cms/ac/usecases/SessionViewer.java</path>
</paths>
<msg>Will hopefully fix bug 42370
</msg>
</logentry>
<logentry
   revision="571488">
<author>rfrovarp</author>
<date>2007-08-31T15:16:37.816728Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/policies/modules/subtree-policy.acml</path>
</paths>
<msg>Fixes bug 43198.
</msg>
</logentry>
<logentry
   revision="571493">
<author>rfrovarp</author>
<date>2007-08-31T15:28:49.068617Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/policies/archive/subtree-policy.acml</path>
<path
   action="M">/lenya/trunk/src/pubs/default/config/access-control/policies/trash/subtree-policy.acml</path>
</paths>
<msg>Fixes bug 43137.
</msg>
</logentry>
<logentry
   revision="571548">
<author>rfrovarp</author>
<date>2007-08-31T19:16:21.721460Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/sitetree/java/src/org/apache/lenya/cms/cocoon/generation/SitetreeFragmentGenerator.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/administration/java/src/org/apache/lenya/cms/ac/usecases/IPRangeProfile.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/AbstractUsecase.java</path>
<path
   action="M">/lenya/trunk/src/modules/lucene/java/src/org/apache/cocoon/components/search/IndexStructure.java</path>
<path
   action="M">/lenya/trunk/src/modules/editors/java/src/org/apache/lenya/cms/editors/forms/FormsEditor.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/ac/java/src/org/apache/lenya/ac/impl/DefaultAccessController.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/administration/java/src/org/apache/lenya/cms/ac/usecases/AddIPRange.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/workflow/DocumentWorkflowable.java</path>
</paths>
<msg>Performance increase. Use StringBuffer instead of straight string concatenation inside of loops.
</msg>
</logentry>
<logentry
   revision="571550">
<author>rfrovarp</author>
<date>2007-08-31T19:18:54.313693Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/sitemanagement/java/src/org/apache/lenya/cms/site/usecases/Create.java</path>
</paths>
<msg>Performance increase. Use StringBuffer instead of straight string concatenation inside of loops.
</msg>
</logentry>
<logentry
   revision="571552">
<author>rfrovarp</author>
<date>2007-08-31T19:32:32.195692Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/AggregatingFallbackSourceFactory.java</path>
</paths>
<msg>Removed unused variable.
</msg>
</logentry>
<logentry
   revision="571594">
<author>rfrovarp</author>
<date>2007-08-31T21:24:38.150346Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/components/modules/input/InputModuleParameters.java</path>
</paths>
<msg>Protects paramList. Using final only protects the reference to the array, not the references contained within. Shallow clone is good enough to get around this.
</msg>
</logentry>
<logentry
   revision="571596">
<author>rfrovarp</author>
<date>2007-08-31T21:30:37.906657Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/workflow/java/src/org/apache/lenya/workflow/impl/VersionImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/workflow/LenyaVersion.java</path>
</paths>
<msg>Date objects are mutable, so store copy. Fixed up variables so they are all in one place.
</msg>
</logentry>
<logentry
   revision="571597">
<author>rfrovarp</author>
<date>2007-08-31T21:31:38.114494Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules-core/workflow/java/src/org/apache/lenya/workflow/impl/VersionImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/workflow/LenyaVersion.java</path>
</paths>
<msg>Forgot to cast the clone.
</msg>
</logentry>
<logentry
   revision="571600">
<author>rfrovarp</author>
<date>2007-08-31T21:40:20.510043Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/cocoon/source/AggregatingSource.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/usecase/java/src/org/apache/lenya/cms/usecase/UsecaseMessage.java</path>
</paths>
<msg>Two more cases of storing external references to mutable objects.
</msg>
</logentry>
<logentry
   revision="571604">
<author>rfrovarp</author>
<date>2007-08-31T21:44:07.069502Z</date>
<paths>
<path
   action="M">/lenya/trunk/src/modules/notification/java/src/org/apache/lenya/notification/Message.java</path>
<path
   action="M">/lenya/trunk/src/modules-core/workflow/java/src/org/apache/lenya/workflow/impl/VersionImpl.java</path>
<path
   action="M">/lenya/trunk/src/java/org/apache/lenya/cms/workflow/LenyaVersion.java</path>
</paths>
<msg>Clone returned date objects.
</msg>
</logentry>
</log>
