<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2002-2004 The Apache Software Foundation
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
  http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V2.0//EN" "http://forrest.apache.org/dtd/document-v20.dtd">
<document> 
  <header> 
    <title>The Lenya Content Repository</title> 
  </header>
  <body>
    
    <section>
      <title>The Lenya Repository API</title>
      <p>
        The Lenya repository API comprises the following interfaces:
      </p>
      <dl>
        <dt><strong>Repository</strong></dt>
        <dd>The repository object is the entry point to the Lenya repository. It provides access to
        the document type registry and allows to create sessions.</dd>
        <dt><strong>Session</strong></dt>
        <dd>A session provides access to the publications and methods for transaction handling. Pending
        changes are not written to the repository until the session is committed.</dd>
        <dt><strong>Publication</strong></dt>
        <dd>A publication consists of an arbitrary set of areas.</dd>
        <dt><strong>Area</strong></dt>
        <dd>An area consists of a set of content nodes with a site structure associated to them.</dd>
        <dt><strong>Document</strong></dt>
        <dd>
          A document is a language version of a content item. A document is identified
          within the area by
          <ul>
            <li>
              the <acronym title="Universally Unique Identifier">UUID</acronym> which is shared
              by all translations of a document, and
            </li>
            <li>the language.</li>
          </ul>
          <p>
            Furthermore, documents have the following properties:
          </p>
          <ul>
            <li>the <em>resource type</em> which specifies the content model of the document,</li>
            <li>the mime type,</li>
            <li>the content length, and</li>
            <li>the last modification date.</li>
          </ul>
          The document provides access to its content via the methods <code>getInputStream()</code>
          and <code>getOutputStream()</code>.
        </dd>
        <dt><strong>Resource Type</strong></dt>
        <dd>The resource type of a document denotes the type of contents which may be stored
          in its documents. A resource type is identified by a unique name. It may provide a
          schema, which can be used to validate XML contents upon saving.
          For more information, refer to the <a href="site:resource-types">resource types</a>
          documenation.
        </dd>
        <dt><strong>Meta Data</strong></dt>
        <dd>For more information, refer to the <a href="site:metadata">meta data</a> documentation.</dd>
        <dt><strong>SiteStructure</strong></dt>
        <dd>This interface provides access to the site structure.</dd>
        <dt><strong>SiteNode</strong></dt>
        <dd>The site structure is a tree consisting of site nodes. Each site node has an ID which
          is unique among its siblings. Thus, a site node can be located using a unique path
          of the form <code>/sections/news/message003</code>. A site node can reference exactly
          one UUID, but it is possible to have multiple site nodes point to the same UUID.
          A site node contains a <code>Link</code> object for each translation.
          This means that <code>/en/news</code> and <code>/de/nachrichten</code> can point to different
          translations of the same document.
        </dd>
      </dl>
    </section>
    
  </body>
</document>
