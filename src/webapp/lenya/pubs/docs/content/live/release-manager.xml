<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.1//EN" "document-v11.dtd">

<document>
  <header>
    <title>Release Manager</title>
    <version/>
    <type/>
    <authors>
      <person name="Michael Wechner" email="michael.wechner@wyona.org"/>
    </authors>
  </header>
  <body>
    <section><title>Building Cocoon</title>
      <section><title>CVS</title>
<p>Login:</p>
<ul>
<li>cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic login</li>
<li>password: anoncvs</li>
</ul>

<p>Checkout:</p>
<ul>
<li>cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic co -r HEAD xml-cocoon2</li>
</ul>

<p>Update:</p>
<ul>
<li>cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic -q update -d -P</li>
</ul>
      </section>

      <section><title>Compiling/Building</title>
<ul>
<li>export JAVA_HOME=/usr/local/jdk1.3.1</li>
<li>./build.sh clean</li>
<li>./build.sh -Dinclude.webapp.libs=yes -Dinclude.scratchpad.libs=yes webapp</li>
</ul>
<note>The Sun transaction library <link href="http://java.sun.com/products/jta/">jta.jar</link> has to be copied to lib/local</note>
      </section>

      <section><title>Installing</title>
<ul>
<li>rm ../../jakarta-tomcat-4.0.4-b3/webapps/cocoon.war</li>
<li>rm -r ../../jakarta-tomcat-4.0.4-b3/webapps/cocoon</li>
<li>rm -r ../../jakarta-tomcat-4.0.4-b3/work/Standalone/localhost/cocoon</li>
<li>cp build/cocoon/cocoon.war ../../jakarta-tomcat-4.0.4-b3/webapps/.</li>
</ul>
      </section>
    </section>

<section><title>Overwriting Cocoon</title>
<ol>
  <li><code>src/cocoon/WEB-INF/web.xml</code> (Scheduler Servlet, Test ProxyGenerator Servlet)</li>
  <li><code>src/cocoon/WEB-INF/logkit.xconf</code> (Log-Level changed from DEBUG to WARN)</li>
  <li><code>src/cocoon/WEB-INF/db/cocoondb.script</code> (Related Projects Data)</li>
  <li><code>src/cocoon/WEB-INF/lib/commons-httpclient.jar</code> (NoSuchMethodError, setRequestBody)</li>
  <li><code>src/webapp/sitemap.xmap</code> (build.xml: exclude)</li>
  <li><code>src/webapp/WEB-INF/cocoon.xconf</code> (build.xml: exclude)</li>
</ol>
</section>

<section><title>Excluding</title>
<ol>
  <li><code>javac.jar</code> (build.xml: exclude: Java Compiler for Compiling XSP)</li>
  <li><code>servlet.jar</code> (build.xml: exclude: Servlet API to compile Servlets)</li>
</ol>
</section>
  </body>
</document>