<?xml version="1.0" encoding="UTF-8"?>

<document>
  <header>
    <title>Performance</title>
    <version></version>
    <type></type>
    <authors>
      <person name="" email=""/>
      <person name="" email=""/>
    </authors>
  </header>
  <body>
    	<s1 title="Performance">
	<p>
	Check out the performance tips of Cocoon itself:<br/>
	<fork href="../../../cocoon/documents/performancetips.html">Cocoon Performance Tips</fork><br/>
	(<code>xml-cocoon2/src/documentation/xdocs/performancetips.xml</code>)
	</p>

      		<s2 title="Cocoon Performance">
		<ol>
		<li>Set all "check-reload" attributes within all sitemaps to "false"</li>
		<li>Set all "log-level" attributes within WEB-INF/logkit.xconf to "ERROR"</li>
		</ol>
		</s2>
	
		<s2 title="Tomcat performance">
		<ol>
		<li>Set attribute "reloadable" of Context wyona-cms to "false" within conf/server.xml</li>
		</ol>
		</s2>
		
		<s2 title="Load Test with Apache's ab">
		<p>
		The following load tests were executed on a PC with
		1GHz AMD processor, 1GB RAM, Kernel 2.4, jdk1.3.1, Tomcat 4.0.1, Cocoon 2.0.1
		</p>
		<p>
		<code>nohup /usr/local/apache/bin/ab -n 100000 -c 3 http://localhost:8080/wyona-cms/ethz-mat/live/index.html </code><br/>
		</p>

			<s3 title="Test 1">
			<p>
			No performace tips applied<br/>
			Number of Requests: 100000<br/>
			Concurrency: 1<br/>
			Result (nohup.out):<br/>
			<source>
          		<![CDATA[
This is ApacheBench, Version 1.3d <$Revision: 1.1 $> apache-1.3
Copyright (c) 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Copyright (c) 1998-2002 The Apache Software Foundation, http://www.apache.org/

Benchmarking 194.191.122.220 (be patient)

Server timed out

: Operation now in progress
This is ApacheBench, Version 1.3d <$Revision: 1.1 $> apache-1.3
Copyright (c) 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Copyright (c) 1998-2002 The Apache Software Foundation, http://www.apache.org/

Benchmarking 194.191.122.220 (be patient)
Completed 10000 requests
Completed 20000 requests
Completed 30000 requests
Completed 40000 requests
Completed 50000 requests
Completed 60000 requests
Completed 70000 requests
Completed 80000 requests
Completed 90000 requests
Finished 100000 requests
Server Software:        Apache
Server Hostname:        194.191.122.220
Server Port:            8080

Document Path:          /wyona-cms/ethz-mat/live/index
Document Length:        8340 bytes

Concurrency Level:      1
Time taken for tests:   9212.161 seconds
Complete requests:      100000
Failed requests:        0
Broken pipe errors:     0
Keep-Alive requests:    0
Total transferred:      849200000 bytes
HTML transferred:       834000000 bytes
Requests per second:    10.86 [#/sec] (mean)
Time per request:       92.12 [ms] (mean)
Time per request:       92.12 [ms] (mean, across all concurrent requests)
Transfer rate:          92.18 [Kbytes/sec] received

Connnection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0     0    0.2      0    68
Processing:    74    92   56.2     84   666
Waiting:        0    70   59.8     81   618
Total:         74    92   56.2     84   666

Percentage of the requests served within a certain time (ms)
  50%     84
  66%     85
  75%     85
  80%     85
  90%     86
  95%     87
  98%     96
  99%    522
 100%    666 (last request)
          		]]>
			</source>
			</p>
			</s3>
			
			<s3 title="Test 2">
			<p>
			No performace tips applied<br/>
			Number of Requests: 100000<br/>
			Concurrency: 3<br/>
			Result (nohup.out):<br/>
			<source>
          		<![CDATA[
This is ApacheBench, Version 1.3d <$Revision: 1.1 $> apache-1.3
Copyright (c) 1996 Adam Twiss, Zeus Technology Ltd, http://www.zeustech.net/
Copyright (c) 1998-2002 The Apache Software Foundation, http://www.apache.org/

Benchmarking 194.191.122.220 (be patient)
Completed 10000 requests
Completed 20000 requests
Completed 30000 requests
Completed 40000 requests
Completed 50000 requests
Completed 60000 requests
Completed 70000 requests
Completed 80000 requests
Completed 90000 requests
Finished 100000 requests
Server Software:        Apache
Server Hostname:        194.191.122.220
Server Port:            8080

Document Path:          /wyona-cms/ethz-mat/live/index
Document Length:        8340 bytes

Concurrency Level:      3
Time taken for tests:   9951.852 seconds
Complete requests:      100000
Failed requests:        0
Broken pipe errors:     0
Keep-Alive requests:    0
Total transferred:      849216384 bytes
HTML transferred:       834016080 bytes
Requests per second:    10.05 [#/sec] (mean)
Time per request:       298.56 [ms] (mean)
Time per request:       99.52 [ms] (mean, across all concurrent requests)
Transfer rate:          85.33 [Kbytes/sec] received

Connnection Times (ms)
              min  mean[+/-sd] median   max
Connect:        0    15   24.1      1   209
Processing:    75   283  142.7    250  1093
Waiting:        0   264  151.5    235  1092
Total:         75   298  140.6    267  1093

Percentage of the requests served within a certain time (ms)
  50%    267
  66%    314
  75%    344
  80%    361
  90%    432
  95%    654
  98%    768
  99%    816 
 100%   1093 (last request)
          		]]>
			</source>
			</p>
      			</s3>
		</s2>
    </s1>
  </body>
</document>
