<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.1//EN" "document-v11.dtd">

<document> 

<header> 
    <title>Working with XML</title>
    <version>0.1</version> 
    <type>Overview document</type> 
    <authors>
      <person name="Andreas Hartmann" email="andreas.hartmann@lenya.org"/> 
    </authors> 
</header> 
<body> 

<section><title>Working with XML Documents</title> 

<p>
The XML utility classes are:
</p>
<source><![CDATA[

import org.apache.lenya.xml.DocumentHelper;
import org.apache.lenya.xml.NamespaceHelper;

]]></source>
<section><title>Creating a Document</title>
<p>
Use the following code to create a document with a given
document element. A xmlns:svg="http://www.w3.org/2000/svg" attribute
is added to the document element.
</p>
<source><![CDATA[

Document document = DocumentHelper.createDocument(
    "http://www.w3.org/2000/svg",
    "svg:svg",
    null);     // no document type

]]></source>
</section>


<section><title>Reading a document from a file</title>
<source><![CDATA[

File file = ...;
Document document = DocumentHelper.readDocument(file);

]]></source>
</section>

<section><title>Writing a document from a file</title>
<p>
Use the following code to write a document to a
file. The INDENT output property of the transformer is
set to "yes".
</p>
<source><![CDATA[

Document document = ...;
File file = ...;
DocumentHelper.writeDocument(document, file);

]]></source>
</section>

</section>

<section><title>Working with Namespaces</title>

<section><title>Creating a NamespaceHelper</title>
<p>
Create a namespace helper with a new document:
</p>
<source><![CDATA[

NamespaceHelper helper = new NamespaceHelper(
    "http://www.w3.org/2000/svg",    // namespace URI
    "svg",                           // prefix
    "svg");                          // local name of document element

]]></source>

<p>
Create a namespace helper for an existing document:
</p>
<source><![CDATA[

Document document = ...;
NamespaceHelper helper = new NamespaceHelper(
    "http://www.w3.org/2000/svg",    // namespace URI
    "svg",                           // prefix
    document);                       // document

]]></source>
</section>

<section><title>Creating Elements</title>

<p>
Create an empty element:
</p>
<source><![CDATA[

// create <svg:ellipse> element
Element element = helper.createElement("ellipse");

]]></source>
<p>
Create an element containing a text node:
</p>
<source><![CDATA[

// create <svg:text>Hello World!</svg:text> element
Element element = helper.createElement("text", "Hello World!");

]]></source>
</section>

</section>

</body>
</document>