<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.1//EN" "document-v11.dtd">

<document>
<header>
    <title>Content Management Markup Language</title>
    <version>2002.01.20</version>
    <type/>
    <authors>
      <person name="Michael Wechner" email="michael.wechner@wyona.org"/>
      <person name="Marc von Wattenwyl" email="marc.vonwattenwyl@wyona.org"/>
    </authors>
</header>
<body>
	<section><title>Content Management Markup Language</title>
	<p>
	The revision and workflow of each "file" is described by a corresponding "CMML-File".
	The various workflows are configured by the file <link href="wf-markup-language.html">workflow.xconf</link>.
	</p>
		<section><title>example.cmml</title>
		<source><![CDATA[
		
<?xml version"1.0"?>
<cm>
  <mime type="xml"/>

  <revision max="10">
    <checkin>
      <user>levi</user>
      <time>1003757900756</time>
      <date year="2002" month="1" day="22" hour="7" minute="47" second="19" millisecond="756"/>
      <backup id="2"/>
    </checkin>
    <checkout>
      <user>levi</user>
      <time>1003757700784</time>
      <date year="2002" month="1" day="22" hour="7" minute="15" second="57" millisecond="784"/>
    </checkout>
    <checkout>
      <user>levi</user>
      <time>1003757305654</time>
      <date year="2002" month="1" day="21" hour="23" minute="50" second="12" millisecond="654"/>
    </checkout>
    <checkin>
      <user>wyona</user>
      <time>1003757300954</time>
      <date year="2002" month="1" day="21" hour="22" minute="45" second="14" millisecond="954"/>
      <backup id="1"/>
    </checkin>
  </revision>

  <workflow id="standard-article">
    <state id="live">
      <user>levi</user>
      <time>1003757310252</time>
      <date year="2002" month="1" day="22" hour="7" minute="50" second="23" millisecond="252"/>
    </state>
    <state id="ready-to-publish">
      <user>levi</user>
      <time>1003757310746</time>
      <date year="2002" month="1" day="22" hour="7" minute="49" second="16" millisecond="746"/>
    </state>
    <state id="proof-reading">
      <user>levi</user>
      <time>1003757310657</time>
      <date year="2002" month="1" day="21" hour="22" minute="45" second="24" millisecond="657"/>
    </state>
    <state id="authoring">
      <user>wyona</user>
      <time>1003757300954</time>
      <date year="2002" month="1" day="21" hour="22" minute="45" second="14" millisecond="954"/>
    </state>
  </workflow>

  <scheduling>
    <visible-date>1003757300954</visible-date>
    <expire-date>1003757300954</expire-date>
  </scheduling>
</cm>
		
		]]></source>
		</section>
		<section><title>Explanation</title>
		<ol>
		  <li>At 22:45:14 the user "wyona" is checking in a new article, which was
		      probably written with some third-party editor.</li>
		  <li>At 22:45:24 the user "wyona" is assigning the article to the user "levi"
		      for proof-reading.</li>
		  <li>At 23:50:12 the user "levi" is checking out the article for doing some modifications.</li>
		  <li>The user "levi" is getting tired and forgets to check in the article</li>
		  <li>At 7:15:57 on the next day the user "levi" is checking out the article again to do some final
		      modifications.</li>
		  <li>At 7:47:19 the user "levi" finished modifying the article.</li>
		  <li>At 7:49:16 the user "levi" sets the workflow on 'ready to publish'.</li>
		  <li>At 7:50:23 the user "levi" is publishing the article.</li>
		</ol>
		</section>									       
	</section>
</body>
</document>