<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.1//EN" "document-v11.dtd">

<document> 
  <header> 
	 <title>Proxy Generator</title>
	 <version>0.1</version> 
	 <type>Overview document</type> 
	 <authors>
           <person name="Michael Wechner" email="michael.wechner@lenya.org"/> 
	 </authors> 
  </header> 
  <body> 
   <section><title>Introduction</title>
<figure src="images/ServletProxyGenerator.png" alt=""/>
    </section>


   <section><title>WebServiceProxyGenerator</title>
<p>
Ivelin Ivanov wrote the WebServiceProxyGenerator, which can be tested as a sample of Cocoon (2.1-dev):
http://localhost:8080/cocoon/samples/webserviceproxy/
</p>

<p>
More information can be found within the
<link href="http://marc.theaimsgroup.com/?l=xml-cocoon-dev&amp;w=2&amp;r=1&amp;s=WebServiceProxy&amp;q=b">mailing list archive</link>.
</p>

   <section><title>Sitemap: Component</title> 
<source><![CDATA[

<map:components>
  <map:generators default="file">
    <map:generator name="wsproxy" src="org.apache.cocoon.generation.WebServiceProxyGenerator" logger="webapp.wsproxy"/>
  </map:generators>
</map:components>

]]></source>
   </section>

   <section><title>Sitemap: Pipeline</title>
<source><![CDATA[

<map:pipeline>
  <map:match pattern="*">
    <map:generate type="wsproxy" src="http://{header:host}/cocoon/samples/xmlform/wizard?cocoon-view=xml" label="xml"/>
    <map:transform src="stylesheets/newWizard2html.xsl" />
    <map:transform src="context://samples/stylesheets/xmlform/xmlform2html.xsl"/>
    <map:serialize type="html"/>
  </map:match>
</map:pipeline>

]]></source>
   </section>
   </section>

   <section><title>Lenya ProxyGenerator</title>
<p>
Before we were aware of Ivelin's WebServiceProxyGenerator we started to write our own. 
As soon as we realized that Ivelin's ProxyGenerator already existed within Cocoon, we tried
to use his Generator.
Unfortunately we are experiencing some problems with regard to session handling with Ivelin's WebServiceProxyGenerator.
The Lenya ProxyGenerator seems to be fine, at least for the purpose we need it.
The goal is to  locate the origin of the problems and hopefully merge our stuff with Ivelin's work.
</p>

<p>
Existing cookies are being forward. New cookies are not being forwarded.
</p>

   <section><title>Sitemap: Component</title> 
<source><![CDATA[

<map:components>
  <map:generators default="file" />
</map:components>

]]></source>
   </section>

   <section><title>Sitemap: Pipeline</title>
<source><![CDATA[

]]></source>
   </section>
   </section>

    <section><title>Related Resources</title>
	<p>
	  <link href="http://nagoya.apache.org/gump/javadoc/jakarta-commons/httpclient/dist/docs/api/index.html">HttpClient API</link>
	</p>
	<p>
	  <link href="http://wp.netscape.com/newsref/std/cookie_spec.html">Http Cookies Spec</link>
	</p>
    </section>
  </body>
</document>