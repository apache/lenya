<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.2//EN" "document-v12.dtd">

<document> 

<header> 
    <title>Lenya CVS Guide</title>
    <version>0.1</version> 
    <type>Documentation</type> 
    <authors>
      <person name="Andreas Hartmann" email="andreas.hartmann@wyona.org"/> 
    </authors> 
</header> 
<body> 

<section>
<title>CVS at Wyona</title>

<p>
The CVS command line for the Wyona CVS server:
</p>
<source>
cvs -d :pserver:anonymous@cvs.wyona.org:/usr/local/repositories checkout lenya
</source>

</section>

<section>
<title>CVS at Apache</title>
<p>
The CVS command line for the Apache CVS server (<strong>Note:</strong> This module has not been populated yet):
</p>
<source>
cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic login
(password: anoncvs)
cvs -d :pserver:anoncvs@cvs.apache.org:/home/cvspublic checkout cocoon-lenya
</source>
</section>

<section>
  <title>CVS Tips</title>
  
  <ul>
    <li>Please make sure that you use the -kb option when adding binary files, 
        e.g. jar's, to the cvs. If not, it can cause a lot of trouble for 
        windows users (because of the line feed conversion).
    </li>
    <li>
<p>
We sometimes seem to have problems when directories with wrong
permissions are added to the repository (see the thread on the users
list).
</p>
<p>
The basic problem is the directories need to be g+w and need to be
owned by group cvs-wyona.
</p>
<p>
If these conditions aren't meet people will encounter problems with
CVS being unable to create lock files in these directories.
</p>
<p>
The solution to this is the sticky bit on directories. It makes sure
that all files (and hence directories) created inherit the group
from the parent directory. This is already in place.
</p>
<p>
To solve the problem log into the cvs repository, cd to the
repository and do
</p>
<p>
<code>
find . -type d -exec chmod g+s {} \;
</code>
</p>
<p>
As a reminder here's a excerpt from the CVS info pages:
</p>
    </li>
  </ul>
<source>
>    CVS tries to set up reasonable file permissions for new directories
> that are added inside the tree, but you must fix the permissions
> manually when a new directory should have different permissions than its
> parent directory.  If you set the `CVSUMASK' environment variable that
> will control the file permissions which CVS uses in creating directories
> and/or files in the repository.  `CVSUMASK' does not affect the file
> permissions in the working directory; such files have the permissions
> which are typical for newly created files, except that sometimes CVS
> creates them read-only (see the sections on watches, *Note Setting a
> watch::; -r, *Note Global options::; or `CVSREAD', *Note Environment
> variables::).
> 
>    Note that using the client/server CVS (*note Remote repositories::),
> there is no good way to set `CVSUMASK'; the setting on the client
> machine has no effect.  If you are connecting with `rsh', you can set
> `CVSUMASK' in `.bashrc' or `.cshrc', as described in the documentation
> for your operating system.  This behavior might change in future
> versions of CVS; do not rely on the setting of `CVSUMASK' on the client
> having no effect.
</source>
  
</section>

</body>
</document>
