<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.1//EN" "document-v11.dtd">

<document> 

<header> 
    <title>Sitemaps, and their functions</title>
    <version>0.1</version> 
    <type>Overview document</type> 
    <authors>
      <person name="Gregor J. Rothfuss" email="gregor.rothfuss@lenya.org"/> 
    </authors> 
</header> 
<body> 

<section><title>The Sitemap Concept</title> 
<p>The goal of the sitemap is to allow non-programmers to create 
web sites and web applications built from logic components and XML documents. Lenya
uses sitemaps to tie together the various parts of its functionality. Understanding
how sitemaps work is therefore crucial to customize Lenya.
</p>
<p>Lenya uses the following sitemaps:</p>
<ol>
<li>webapp/sitemap.xmap</li>
<li>webapp/lenya/admin.xmap</li>
<li>webapp/lenya/bitflux.xmap</li>
<li>webapp/lenya/lenya.xmap</li>
<li>webapp/lenya/lucene.xmap</li>
<li>webapp/lenya/navigation.xmap</li>
<li>webapp/lenya/openoffice.xmap</li>
<li>webapp/lenya/resources.xmap</li>
<li>webapp/lenya/xopus.xmap</li>
<li>webapp/lenya/pubs/default/doctypes.xmap</li>
<li>webapp/lenya/pubs/default/parameter-doctype.xmap</li>
<li>webapp/lenya/pubs/default/parameter-document-id.xmap</li>
<li>webapp/lenya/pubs/default/policies-sitemap.xmap</li>
<li>webapp/lenya/pubs/default/publication-sitemap.xmap</li>
<li>webapp/lenya/pubs/default/sitemap.xmap</li>
<li>webapp/lenya/pubs/default/xopus.xmap</li>
</ol>
</section>
<section><title>1) The root Sitemap</title> 
<p>This is the regular Cocoon Sitemap. It contains Lenya additions that need to be globally available.
Its main function is to mount various sub-sitemaps. 
</p>
<ul>
<li>The ServletProxy Generator</li>
<li>The Parent-Child Action</li>
<li>The Page Envelope Action</li>
<li>The File Upload Action</li>
<li>The Task Action</li>
<li>The Navigation Resource</li>
<li>The Publications Pipeline</li>
<li>The Publications Introduction Matcher</li>
<li>The Admin Area Mountpoint</li>
<li>The Lucene Search Mountpoint</li>
<li>The Xopus Mountpoint</li>
<li>The BitFlux Mountpoint</li>
<li>The Lenya GUI Mountpoint</li>
<li>The Navigation Mountpoint</li>
<li>The Publication Mountpoint</li>
<li>The Resources Mountpoint</li>
</ul>
</section>
<section><title>2) The administrative Sitemap</title> 
<p> 
</p>
</section>
<section><title>3) The Bitflux Sitemap</title> 
<p>
This Sitemap contains the functionality for the Bitflux Editor. It is mounted under /lenya/bitflux 
</p>
</section>
<section><title>4) The Lenya Sitemap</title> 
<p>
This Sitemap contains GUI elements for Lenya, such as the menu bar, CSS stylesheets, and images. 
It is mounted under /lenya/lenya 
</p>
</section>
<section><title>5) The Lucene Sitemap</title> 
<p> 
This Sitemap contains the functionality for the Lucene Search engine. It is mounted under /lenya/[publication]/search/lucene</p>
</section>
<section><title>6) The Navigation Sitemap</title> 
<p>The Navigation sitemap contains the functionality for creating the navigation and breadcrumb paths automatically.
</p>
</section>
<section><title>7) The OpenOffice Sitemap</title> 
<p>The OpenOffice Sitemap contains functionality to deal with OpenOffice documents inside Lenya.  
</p>
</section>
<section><title>8) The Resources Sitemap</title> 
<p>The resources sitemap serves static resources, as described in <link href="site:xhtml-templating">Serving static Resources</link>
</p>
</section>
<section><title>9) The Xopus Sitemap</title> 
<p> 
This Sitemap contains the functionality for the Xopus Editor. It is mounted under /lenya/xopus 
</p>
</section>
<section><title>10) The Doctypes Sitemap</title> 
<p>
This Sitemap defines the doctypes used in a publication, and enables mixing and matching of doctypes
throughout a publication. 
</p>
</section>
<section><title>13) The Policies Sitemap</title> 
<p>
The Policies Sitemap contains the access control policies for a publication.  
</p>
</section>
<section><title>14) The Publication Sitemap</title> 
<p>
The publication sitemap contains the main functionality of a publication. The bulk of a publications
logic should go in here. 
</p>
</section>
<section><title>15) The Publication Root Sitemap</title> 
<p>
The publication root sitemap links together all the sitemaps of a publication and implements access control. 
</p>
</section>
<section><title>16) The Publication Xopus Sitemap</title> 
<p> 
The Publication Xopus sitemap contains the publication-specific parts for the Xopus editor.
</p>
</section>
</body>
</document>