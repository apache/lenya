<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 1999-2004 The Apache Software Foundation

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->

<!-- $Id: terms.xml,v 1.2 2004/03/13 12:42:13 gregor Exp $ -->

<!DOCTYPE document PUBLIC "-//APACHE//DTD Documentation V1.2//EN" "document-v12.dtd">

<document> 

<header> 
    <title>Workflow Terms</title>
    <version>0.1</version> 
    <type>Overview document</type> 
    <authors>
      <person name="Andreas Hartmann" email="andreas.hartmann@wyona.org"/> 
    </authors> 
</header> 
<body> 

<section><title>Terms</title>

<dl>

<dt>Workflow Schema</dt>
<dd>A workflow schema defines a state machine (deterministic finite
automaton - DFA), consisting of 
  <ul>
    <li>states, including a marked initial state,</li>
    <li>transitions, and</li>
    <li>state variables.</li>
  </ul>
</dd>

<dt>Workflow Instance</dt>
<dd>A workflow instance is an incarnation of a workflow schema.
It consists of
<ul>
  <li>a current state,</li>
  <li>a mapping which assigns values to all state variables.</li>
</ul>
</dd>

<dt>Transition</dt>
<dd>A transition describes the switching of a workflow instance
from one state to another. A transition has
<ul>
  <li>a source state,</li>
  <li>a destination state,</li>
  <li>an event,</li>
  <li>a set of conditions,</li>
  <li>a set of assignments.</li>
</ul>
Additionally, a transition can be marked as synchronized.
</dd>

<dt>History</dt>
<dd>The history of a workflow instance contains a list of all versions
of the instance. A version contains
<ul>
  <li>the state,</li>
  <li>the event that caused the transition (omitted in the first version),</li>
  <li>a description of the identity that invoked the event (username and IP address)</li>
</ul>
</dd>

<dt>State Variable</dt>
<dd>A workflow schema can contain a set of state variables.
For each instance, the state variables hold certain values.
Values can be assigned during transitions, so a variable can change
its value when a transition fires. Currently, Lenya supports only
boolean state variables.
</dd>

<dt>Condition</dt>
<dd>
A condition can prevent a transition from firing, based on
the current situation.
Examples:
<ul>
  <li>Does the current user have a certain role on the current URL?
    (<code>RoleCondition</code>, included in Lenya)</li>
  <li>Does a certain state variable have a certain value
    (e.g., is the document published)?
    (<code>BooleanVariableCondition</code>, included in Lenya)</li>
  <li>Is the sun shining? (e.g., if the weather report may only
     be published on sunny days)</li>
</ul>
</dd>

<dt>Situation</dt>
<dd>A situation defines the state of the environment
of a workflow instance. Examples are:
<ul>
  <li>the current user ID</li>
  <li>the roles of the current user on the current URL</li>
</ul>
</dd>

<dt>Synchronization</dt>
<dd>
<p>A set of workflow instances with the same workflow schema
can be synchronized. If a transition in this schema is marked as
synchronized, it can only be invoked on all instances in the
set at the same time.</p>
<p>When a workflow event is invoked on a set of synchronized
workflow instances, the transition is invoked only if</p>
<ul>
  <li>all instances are in the source state of the transition, and</li>
  <li>all conditions of the transition are complied for all
  instances.</li>
</ul>
<p>Then the transition is invoked for all instances in the set.</p>
<p>A common usecase of this concept is the simultaneous publishing
of a set of documents (all language versions of a document,
a section, ...).</p>
</dd>

</dl>

</section>

</body>
</document>