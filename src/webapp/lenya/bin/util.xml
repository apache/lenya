<?xml version="1.0"?>

<project default="main" basedir=".">



<target name="main" description="Says Hi">
  <echo>Hi</echo>
</target>




<target name="init">
  <echo message="INFO: Init"/>

  <property name="lenya.dir" value="../../../.."/>


  <!-- Dummy arguments -->
  <property name="password" value="levi"/>
  <property name="jtidy-in.html" value="file:///home/lenya/html/index.html"/>
  <!-- /Dummy arguments -->

  <property name="lenya.dir.web-inf" value="${lenya.dir}/build/lenya/webapp/WEB-INF"/>

  <path id="class.path">
    <pathelement path="${lenya.dir.web-inf}/classes"/>
    <pathelement path="${lenya.dir.web-inf}/lib/xercesImpl-2.1.0.jar"/>
    <pathelement path="${lenya.dir.web-inf}/lib/xml-apis.jar"/>
    <pathelement path="${lenya.dir.web-inf}/lib/xalan-2.4.1.jar"/>
    <pathelement path="${lenya.dir.web-inf}/lib/log4j-1.2.3.jar"/>
    <pathelement path="${lenya.dir.web-inf}/lib/excalibur-io-1.1.jar"/>
    <pathelement path="${lenya.dir.web-inf}/lib/lucene-1.3.jar"/>
    <pathelement path="${lenya.dir.web-inf}/lib/websphinx.jar"/>
    <pathelement path="${lenya.dir.web-inf}/lib/jtidy-04aug2000r7-dev.jar"/>
    <pathelement path="${lenya.dir.web-inf}/lib/w3c-crypt.jar"/>
  </path>
</target>

<target name="passwd" description="Generate a password" depends="init">
  <echo>INFO: Generate a password (${password})</echo>

  <java classname="org.apache.lenya.ac.Password">
    <arg value="${password}"/>
    <classpath refid="class.path"/>
  </java>
</target>



<target name="ssi" description="Server Side Include" depends="init">
  <echo>INFO: Server Side Include</echo>

  <java classname="org.apache.lenya.util.SSI">
    <arg value="ssi.html"/>
<!--
    <arg value="../../../../ssi.html"/>
-->
    <classpath refid="class.path"/>
  </java>
</target>


<target name="jtidy" description="JTidy" depends="init">
  <echo>INFO: JTidy</echo>

  <java classname="org.apache.lenya.util.TidyCommandLine">
    <arg value="${jtidy-in.html}"/>
    <arg value="jtidy-out.xhtml"/>
    <arg value="error.log"/>
    <classpath refid="class.path"/>
  </java>
</target>

<!-- e.g. tidying legacy "HTML" stylesheets -->
<target name="u2l" description="Transforms upper to lower case"> 
    <echo>INFO: Upper 2 lower case</echo>
    <xslt
        basedir="/home/username/upper_case"
        destdir="/home/username/lower_case"
        style="${lenya.dir}/src/webapp/lenya/xslt/misc/upper2lower_case.xsl"
        includes="**/*.xsl"
        extension=".xsl"
        />
</target>


</project>
